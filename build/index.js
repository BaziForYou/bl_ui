var Fn=Object.defineProperty;var On=(t,e,n)=>e in t?Fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>(On(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function B(){}const He=t=>t;function Oe(t,e){for(const n in e)t[n]=e[n];return t}function pn(t){return t()}function yt(){return Object.create(null)}function oe(t){t.forEach(pn)}function Be(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pn(t){return Object.keys(t).length===0}function qe(t,...e){if(t==null){for(const s of e)s(void 0);return B}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Me(t){let e;return qe(t,n=>e=n)(),e}function W(t,e,n){t.$$.on_destroy.push(qe(e,n))}function zn(t,e,n,s){if(t){const r=gn(t,e,n,s);return t[0](r)}}function gn(t,e,n,s){return t[1]&&s?Oe(n.ctx.slice(),t[1](s(e))):n.ctx}function Bn(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(e.dirty.length,r.length);for(let c=0;c<l;c+=1)i[c]=e.dirty[c]|r[c];return i}return e.dirty|r}return e.dirty}function Yn(t,e,n,s,r,i){if(r){const l=gn(e,n,s,i);t.p(l,r)}}function Zn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function Vn(t,e,n){return t.set(n),e}const hn=typeof window<"u";let We=hn?()=>window.performance.now():()=>Date.now(),pt=hn?t=>requestAnimationFrame(t):B;const Le=new Set;function bn(t){Le.forEach(e=>{e.c(t)||(Le.delete(e),e.f())}),Le.size!==0&&pt(bn)}function Je(t){let e;return Le.size===0&&pt(bn),{promise:new Promise(n=>{Le.add(e={c:t,f:n})}),abort(){Le.delete(e)}}}function A(t,e){t.appendChild(e)}function wn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Gn(t){const e=T("style");return e.textContent="/* empty */",Xn(wn(t),e),e.sheet}function Xn(t,e){return A(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function U(){return te(" ")}function $(){return te("")}function ie(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jn(t){return t===""?null:+t}function $n(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ve(t,e){t.value=e??""}function D(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function vt(t,e,n){t.classList.toggle(e,!!n)}function Hn(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}const Ge=new Map;let Xe=0;function qn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Wn(t,e){const n={stylesheet:Gn(e),rules:{}};return Ge.set(t,n),n}function je(t,e,n,s,r,i,l,c=0){const o=16.666/s;let u=`{
`;for(let p=0;p<=1;p+=o){const b=e+(n-e)*i(p);u+=p*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,a=`__svelte_${qn(f)}_${c}`,m=wn(t),{stylesheet:v,rules:g}=Ge.get(m)||Wn(m,t);g[a]||(g[a]=!0,v.insertRule(`@keyframes ${a} ${f}`,v.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${a} ${s}ms linear ${r}ms 1 both`,Xe+=1,a}function $e(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=n.length-s.length;r&&(t.style.animation=s.join(", "),Xe-=r,Xe||Jn())}function Jn(){pt(()=>{Xe||(Ge.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),Ge.clear())})}let Pe;function Ue(t){Pe=t}function yn(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function Qe(t){yn().$$.on_mount.push(t)}function Qn(t){yn().$$.on_destroy.push(t)}const Ee=[],ft=[];let Ne=[];const kt=[],xn=Promise.resolve();let at=!1;function es(){at||(at=!0,xn.then(vn))}function Y(t){Ne.push(t)}const tt=new Set;let ve=0;function vn(){if(ve!==0)return;const t=Pe;do{try{for(;ve<Ee.length;){const e=Ee[ve];ve++,Ue(e),ts(e.$$)}}catch(e){throw Ee.length=0,ve=0,e}for(Ue(null),Ee.length=0,ve=0;ft.length;)ft.pop()();for(let e=0;e<Ne.length;e+=1){const n=Ne[e];tt.has(n)||(tt.add(n),n())}Ne.length=0}while(Ee.length);for(;kt.length;)kt.pop()();at=!1,tt.clear(),Ue(t)}function ts(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function ns(t){const e=[],n=[];Ne.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),Ne=e}let Ke;function gt(){return Ke||(Ke=Promise.resolve(),Ke.then(()=>{Ke=null})),Ke}function he(t,e,n){t.dispatchEvent(Hn(`${e?"intro":"outro"}${n}`))}const Ze=new Set;let ue;function Z(){ue={r:0,c:[],p:ue}}function V(){ue.r||oe(ue.c),ue=ue.p}function S(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function C(t,e,n,s){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),ue.c.push(()=>{Ze.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const ht={duration:0};function ss(t,e,n){const s={direction:"in"};let r=e(t,n,s),i=!1,l,c,o=0;function u(){l&&$e(t,l)}function f(){const{delay:m=0,duration:v=300,easing:g=He,tick:_=B,css:p}=r||ht;p&&(l=je(t,0,1,v,m,g,p,o++)),_(0,1);const b=We()+m,y=b+v;c&&c.abort(),i=!0,Y(()=>he(t,!0,"start")),c=Je(E=>{if(i){if(E>=y)return _(1,0),he(t,!0,"end"),u(),i=!1;if(E>=b){const h=g((E-b)/v);_(h,1-h)}}return i})}let a=!1;return{start(){a||(a=!0,$e(t),Be(r)?(r=r(s),gt().then(f)):f())},invalidate(){a=!1},end(){i&&(u(),i=!1)}}}function rs(t,e,n){const s={direction:"out"};let r=e(t,n,s),i=!0,l;const c=ue;c.r+=1;let o;function u(){const{delay:f=0,duration:a=300,easing:m=He,tick:v=B,css:g}=r||ht;g&&(l=je(t,1,0,a,f,m,g));const _=We()+f,p=_+a;Y(()=>he(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),Je(b=>{if(i){if(b>=p)return v(0,1),he(t,!1,"end"),--c.r||oe(c.c),!1;if(b>=_){const y=m((b-_)/a);v(1-y,y)}}return i})}return Be(r)?gt().then(()=>{r=r(s),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=o),f&&r.tick&&r.tick(1,0),i&&(l&&$e(t,l),i=!1)}}}function P(t,e,n,s){let i=e(t,n,{direction:"both"}),l=s?0:1,c=null,o=null,u=null,f;function a(){u&&$e(t,u)}function m(g,_){const p=g.b-l;return _*=Math.abs(p),{a:l,b:g.b,d:p,duration:_,start:g.start,end:g.start+_,group:g.group}}function v(g){const{delay:_=0,duration:p=300,easing:b=He,tick:y=B,css:E}=i||ht,h={start:We()+_,b:g};g||(h.group=ue,ue.r+=1),"inert"in t&&(g?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),c||o?o=h:(E&&(a(),u=je(t,l,g,p,_,b,E)),g&&y(0,1),c=m(h,p),Y(()=>he(t,g,"start")),Je(w=>{if(o&&w>o.start&&(c=m(o,p),o=null,he(t,c.b,"start"),E&&(a(),u=je(t,l,c.b,c.duration,0,b,i.css))),c){if(w>=c.end)y(l=c.b,1-l),he(t,c.b,"end"),o||(c.b?a():--c.group.r||oe(c.group.c)),c=null;else if(w>=c.start){const N=w-c.start;l=c.a+c.d*b(N/c.duration),y(l,1-l)}}return!!(c||o)}))}return{run(g){Be(i)?gt().then(()=>{i=i({direction:g?"in":"out"}),v(g)}):v(g)},end(){a(),c=o=null}}}function Q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function kn(t,e){const n={},s={},r={$$scope:1};let i=t.length;for(;i--;){const l=t[i],c=e[i];if(c){for(const o in l)o in c||(s[o]=1);for(const o in c)r[o]||(n[o]=c[o],r[o]=1);t[i]=c}else for(const o in l)r[o]=1}for(const l in s)l in n||(n[l]=void 0);return n}function Sn(t){return typeof t=="object"&&t!==null?t:{}}function re(t){t&&t.c()}function x(t,e,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),Y(()=>{const i=t.$$.on_mount.map(pn).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...i):oe(i),t.$$.on_mount=[]}),r.forEach(Y)}function ee(t,e){const n=t.$$;n.fragment!==null&&(ns(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ls(t,e){t.$$.dirty[0]===-1&&(Ee.push(t),es(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,s,r,i,l,c=[-1]){const o=Pe;Ue(t);const u=t.$$={fragment:null,ctx:[],props:i,update:B,not_equal:r,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:yt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(a,m,...v)=>{const g=v.length?v[0]:m;return u.ctx&&r(u.ctx[a],u.ctx[a]=g)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](g),f&&ls(t,a)),m}):[],u.update(),f=!0,oe(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const a=$n(e.target);u.fragment&&u.fragment.l(a),a.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&S(t.$$.fragment),x(t,e.target,e.anchor),vn()}Ue(o)}class se{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){ee(this,1),this.$destroy=B}$on(e,n){if(!Be(n))return B;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const is="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(is);const ke=[];function Re(t,e=B){let n;const s=new Set;function r(c){if(G(t,c)&&(t=c,n)){const o=!ke.length;for(const u of s)u[1](),ke.push(u,t);if(o){for(let u=0;u<ke.length;u+=2)ke[u][0](ke[u+1]);ke.length=0}}}function i(c){r(c(t))}function l(c,o=B){const u=[c,o];return s.add(u),s.size===1&&(n=e(r,i)||B),c(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:l}}const bt=Re({fallbackResourceName:"debug",allowEscapeKey:!0}),os=Re(window.GetParentResourceName?window.GetParentResourceName():Me(bt).DEBUG_RESOURCE_NAME),En=Re(!window.invokeNative),St=Re(!1);var J=(t=>(t.visible="ui:visible",t.start="ui:start",t))(J||{}),wt=(t=>(t.close="ui:close",t.finish="ui:finish",t))(wt||{}),me=(t=>(t.down="keydown",t.up="keyup",t.pressed="keypress",t))(me||{}),In=(t=>(t.click="click",t.down="mousedown",t.up="mouseup",t.move="mousemove",t))(In||{});const xe=Me(En),cs=Me(os),dt=[];async function us(t,e={}){if(xe==!0){const r=await as(t,e);return Promise.resolve(r)}const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};return await(await fetch(`https://${cs}/${t}`,n)).json()}function An(t,e){const n=s=>{const{action:r,data:i}=s.data;r===t&&e(i)};Qe(()=>window.addEventListener("message",n)),Qn(()=>window.removeEventListener("message",n))}async function ce(t,e,n=0){xe&&setTimeout(()=>{const s=new MessageEvent("message",{data:{action:t,data:e}});window.dispatchEvent(s)},n)}async function fs(t,e){if(xe){if(dt[t]!==void 0){console.log(`%c[DEBUG] %c${t} %cevent already has a debug receiver.`,"color: red; font-weight: bold;","color: green","");return}dt[t]=e}}async function as(t,e){if(!xe)return;const n=dt[t];return n===void 0?(console.log(`[DEBUG] ${t} event does not have a debugger.`),{}):await n(e)}const ds=()=>{const t=Re({active:!1});return{...t,...{start:n=>{let{type:s,iterations:r,config:i}=n;r=r||1,t.update(l=>({active:!0,type:s,iterations:r,config:i}))},finish:(n=!1)=>{t.update(s=>(us(wt.finish,n),{active:!1}))}}}},K=ds(),_s=[{action:J.visible,handler:t=>{}},{action:J.start,handler:t=>{K.start(t)}}];function ms(){for(const t of _s)An(t.action,t.handler)}function Et(t){let e,n;const s=t[2].default,r=zn(s,t,t[1],null);return{c(){e=T("main"),r&&r.c(),d(e,"class","svelte-1w09ye1")},m(i,l){L(i,e,l),r&&r.m(e,null),n=!0},p(i,l){r&&r.p&&(!n||l&2)&&Yn(r,s,i,i[1],n?Bn(s,i[1],l,null):Zn(i[1]),null)},i(i){n||(S(r,i),n=!0)},o(i){C(r,i),n=!1},d(i){i&&I(e),r&&r.d(i)}}}function ps(t){let e,n,s=t[0]&&Et(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[0]?s?(s.p(r,i),i&1&&S(s,1)):(s=Et(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),C(s,1,1,()=>{s=null}),V())},i(r){n||(S(s),n=!0)},o(r){C(s),n=!1},d(r){r&&I(e),s&&s.d(r)}}}function gs(t,e,n){let s,r,i;W(t,K,o=>n(3,s=o)),W(t,St,o=>n(0,r=o)),W(t,bt,o=>n(4,i=o));let{$$slots:l={},$$scope:c}=e;return An(J.visible,o=>{Vn(St,r=o,r)}),Qe(()=>{if(!i.allowEscapeKey)return;const o=u=>{r&&["Escape"].includes(u.code)&&s.active&&K.finish(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),t.$$set=o=>{"$$scope"in o&&n(1,c=o.$$scope)},[r,c,l]}class hs extends se{constructor(e){super(),ne(this,e,gs,ps,G,{})}}function _t(t){ce(J.visible,t)}const bs=[{label:"Visible",action:()=>_t(!0),delay:500}];function ws(){for(const t of bs)setTimeout(()=>{t.action()},t.delay||0)}const ys=[{action:wt.close,handler:()=>{}}];function vs(){for(const t of ys)fs(t.action,t.handler)}var q=(t=>(t.CircleProgress="CircleProgress",t.Progress="Progress",t.KeyCircle="KeyCircle",t.KeySpam="KeySpam",t.NumberSlide="NumberSlide",t.RapidLines="RapidLines",t.CircleShake="CircleShake",t))(q||{});const Ye=[{label:"Visibility",actions:[{label:"True",action:()=>_t(!0)},{label:"False",action:()=>_t(!1)}]},{label:"CircleProgress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.CircleProgress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"Progress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.Progress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"KeyCircle",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:2};ce(J.start,{type:q.KeyCircle,iterations:1,config:e})},value:50,type:"slider"}]},{label:"KeySpam",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.KeySpam,iterations:1,config:e})},value:50,type:"slider"}]},{label:"NumberSlide",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.NumberSlide,iterations:1,config:e})},value:50,type:"slider"}]},{label:"RapidLines",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.RapidLines,iterations:1,config:e})},value:50,type:"slider"}]},{label:"CircleShake",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.CircleShake,iterations:1,config:e})},value:50,type:"slider"}]}];function It(t,e,n){const s=t.slice();return s[12]=e[n].label,s[13]=e[n].actions,s}function At(t,e,n){const s=t.slice();return s[16]=e[n],s[17]=e,s[18]=n,s}function Lt(t){let e,n=Q(t[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ct(It(t,n,r));return{c(){e=T("ol");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class","flex flex-col gap-2 bg-primary z-[9999999] max-w-[25vw] h-[80vh] overflow-y-auto px-[0.5vw] py-[0.5vw]")},m(r,i){L(r,e,i);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null)},p(r,i){if(i&1){n=Q(r[0]);let l;for(l=0;l<n.length;l+=1){const c=It(r,n,l);s[l]?s[l].p(c,i):(s[l]=Ct(c),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(r){r&&I(e),be(s,r)}}}function ks(t){let e,n=t[16].label+"",s,r,i;function l(){return t[11](t[16])}return{c(){e=T("button"),s=te(n),d(e,"class","w-full px-[0.5vw] py-[0.25vw] bg-accent")},m(c,o){L(c,e,o),A(e,s),r||(i=ie(e,"click",l),r=!0)},p(c,o){t=c,o&1&&n!==(n=t[16].label+"")&&fe(s,n)},d(c){c&&I(e),r=!1,i()}}}function Ss(t){let e,n,s=t[16].label+"",r,i,l,c,o,u,f,a,m,v;function g(){t[9].call(l,t[17],t[18])}function _(){return t[10](t[16])}return{c(){e=T("span"),n=T("p"),r=te(s),i=U(),l=T("input"),f=U(),a=T("button"),a.textContent="Action",d(l,"type","range"),d(l,"class","w-full"),d(l,"min",c=t[16].min||0),d(l,"max",o=t[16].max||100),d(l,"step",u=t[16].step||1),d(a,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-accent border-primary border-2"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(p,b){L(p,e,b),A(e,n),A(n,r),A(e,i),A(e,l),Ve(l,t[16].value),A(e,f),A(e,a),m||(v=[ie(l,"change",g),ie(l,"input",g),ie(a,"click",_)],m=!0)},p(p,b){t=p,b&1&&s!==(s=t[16].label+"")&&fe(r,s),b&1&&c!==(c=t[16].min||0)&&d(l,"min",c),b&1&&o!==(o=t[16].max||100)&&d(l,"max",o),b&1&&u!==(u=t[16].step||1)&&d(l,"step",u),b&1&&Ve(l,t[16].value)},d(p){p&&I(e),m=!1,oe(v)}}}function Es(t){let e,n,s=t[16].label+"",r,i,l,c,o;function u(){t[7].call(l,t[17],t[18])}function f(...a){return t[8](t[16],...a)}return{c(){e=T("span"),n=T("p"),r=te(s),i=U(),l=T("input"),d(l,"type","checkbox"),d(l,"class","h-full aspect-square"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-row gap-[0.2vw] bg-accent items-center")},m(a,m){L(a,e,m),A(e,n),A(n,r),A(e,i),A(e,l),l.checked=t[16].value,c||(o=[ie(l,"change",u),ie(l,"input",f)],c=!0)},p(a,m){t=a,m&1&&s!==(s=t[16].label+"")&&fe(r,s),m&1&&(l.checked=t[16].value)},d(a){a&&I(e),c=!1,oe(o)}}}function Is(t){let e,n,s=t[16].label+"",r,i,l,c,o,u,f;function a(){t[5].call(l,t[17],t[18])}function m(){return t[6](t[16])}return{c(){e=T("span"),n=T("p"),r=te(s),i=U(),l=T("input"),c=U(),o=T("button"),o.textContent="Apply",d(n,"class",""),d(l,"type","text"),d(l,"class","h-full w-full text-[color:var(--text-secondary)] px-[0.25vw]"),d(o,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-primary"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(v,g){L(v,e,g),A(e,n),A(n,r),A(e,i),A(e,l),Ve(l,t[16].value),A(e,c),A(e,o),u||(f=[ie(l,"input",a),ie(o,"click",m)],u=!0)},p(v,g){t=v,g&1&&s!==(s=t[16].label+"")&&fe(r,s),g&1&&l.value!==t[16].value&&Ve(l,t[16].value)},d(v){v&&I(e),u=!1,oe(f)}}}function Nt(t){let e;function n(i,l){return i[16].type==="text"?Is:i[16].type==="checkbox"?Es:i[16].type==="slider"?Ss:ks}let s=n(t),r=s(t);return{c(){e=T("div"),r.c(),d(e,"class","flex flex-row flex-wrap gap-[0.5vw]")},m(i,l){L(i,e,l),r.m(e,null)},p(i,l){s===(s=n(i))&&r?r.p(i,l):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&I(e),r.d()}}}function Ct(t){let e,n,s=t[12]+"",r,i,l,c=Q(t[13]),o=[];for(let u=0;u<c.length;u+=1)o[u]=Nt(At(t,c,u));return{c(){e=T("li"),n=T("span"),r=te(s),i=U();for(let u=0;u<o.length;u+=1)o[u].c();l=U(),d(n,"class","w-full text-black"),d(e,"class","flex flex-col gap-1 border-l-[2px] border-[color:var(--accent)] px-[0.25vw]")},m(u,f){L(u,e,f),A(e,n),A(n,r),A(e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);A(e,l)},p(u,f){if(f&1&&s!==(s=u[12]+"")&&fe(r,s),f&1){c=Q(u[13]);let a;for(a=0;a<c.length;a+=1){const m=At(u,c,a);o[a]?o[a].p(m,f):(o[a]=Nt(m),o[a].c(),o[a].m(e,l))}for(;a<o.length;a+=1)o[a].d(1);o.length=c.length}},d(u){u&&I(e),be(o,u)}}}function As(t){let e,n,s,r,i,l,c,o=t[1]&&Lt(t);return{c(){e=T("div"),n=T("button"),n.textContent="Debug",s=U(),o&&o.c(),r=U(),i=T("div"),d(n,"class","px-[1vw] py-[0.5vw] w-fit h-fit z-[9999999] bg-accent"),D(i,"background-image","url('https://cdn.discordapp.com/attachments/1068663854143389788/1074878298498281554/HUD_-_Target_Menu.png')"),d(i,"class","absolute w-screen bg-cover bg-no-repeat bg-center h-screen top-0 left-0 dev-image"),d(e,"class","w-fit h-fit flex flex-col z-[9999999]")},m(u,f){L(u,e,f),A(e,n),A(e,s),o&&o.m(e,null),A(e,r),A(e,i),l||(c=[ie(window,"keydown",t[2]),ie(window,"keyup",t[3]),ie(n,"click",t[4])],l=!0)},p(u,[f]){u[1]?o?o.p(u,f):(o=Lt(u),o.c(),o.m(e,r)):o&&(o.d(1),o=null)},i:B,o:B,d(u){u&&I(e),o&&o.d(),l=!1,oe(c)}}}function Ls(t,e,n){Qe(()=>{ws(),vs()});function s(g){ce(J.keydown,g)}function r(g){ce(J.keyup,g)}let i=!1;const l=()=>n(1,i=!i);function c(g,_){g[_].value=this.value,n(0,Ye)}const o=g=>{g.action(g.value)};function u(g,_){g[_].value=this.checked,n(0,Ye)}const f=(g,_)=>{g.action(g.value)};function a(g,_){g[_].value=jn(this.value),n(0,Ye)}return[Ye,i,s,r,l,c,o,u,f,a,g=>{g.action(g.value)},g=>{g.action()}]}class Ns extends se{constructor(e){super(),ne(this,e,Ls,As,G,{})}}async function we(t){return new Promise(e=>setTimeout(e,t))}function Cs(t,e,n,s){const r=s-e,i=n-t;return Math.atan2(r,i)*180/Math.PI}function Se(t){return t>180?t-360:t}function Tt(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ts(t){const e=t-1;return e*e*e+1}function mt(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const s=e.map((r,i)=>mt(t[i],r));return r=>s.map(i=>i(r))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Tt(t)&&Tt(e)){t=t.getTime(),e=e.getTime();const i=e-t;return l=>new Date(t+l*i)}const s=Object.keys(e),r={};return s.forEach(i=>{r[i]=mt(t[i],e[i])}),i=>{const l={};return s.forEach(c=>{l[c]=r[c](i)}),l}}if(n==="number"){const s=e-t;return r=>t+r*s}throw new Error(`Cannot interpolate ${n} values`)}function De(t,e={}){const n=Re(t);let s,r=t;function i(l,c){if(t==null)return n.set(t=l),Promise.resolve();r=l;let o=s,u=!1,{delay:f=0,duration:a=400,easing:m=He,interpolate:v=mt}=Oe(Oe({},e),c);if(a===0)return o&&(o.abort(),o=null),n.set(t=r),Promise.resolve();const g=We()+f;let _;return s=Je(p=>{if(p<g)return!0;u||(_=v(t,l),typeof a=="function"&&(a=a(t,l)),u=!0),o&&(o.abort(),o=null);const b=p-g;return b>a?(n.set(t=l),!1):(n.set(t=_(m(b/a))),!0)}),s.promise}return{set:i,update:(l,c)=>i(l(r,t),c),subscribe:n.subscribe}}function F(t,{delay:e=0,duration:n=400,easing:s=Ts,start:r=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,o=l.transform==="none"?"":l.transform,u=1-r,f=c*(1-i);return{delay:e,duration:n,easing:s,css:(a,m)=>`
			transform: ${o} scale(${1-u*m});
			opacity: ${c-f*m}
		`}}const Ce={DURATION:{MIN:500,MAX:3e3},SIZE:{MIN:2,MAX:40},FALLBACK_DIFFICULTY:50},nt={DURATION:{MIN:250,MAX:1500},FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},Mt={DURATION:{MIN:750,MAX:5e3},FALLBACK_DIFFICULTY:50},ge={DURATION:{MIN:500,MAX:7500},ZONE_SIZE:15,FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},Ie={DURATION:{MIN:500,MAX:3e3},ZONE:{MIN:5,MAX:40},ZONE_FROM_RIGHT:95,FALLBACK_DIFFICULTY:50,FALLBACK_NUM_LINES:3},st={DURATION:{MIN:1e3,MAX:1e4},SIZE:{MIN:2,MAX:15},FALLBACK_DIFFICULTY:50,FALLBACK_NUM_KEYS:3},ye={Primary:"E",Secondary:"Q",Space:" ",Numbers:["1","2","3","4","5"],PrimarySet:["W","A","S","D"],SecondarySet:["I","J","K","L"]};function le(t){const e=ye[t];return e[Math.floor(Math.random()*e.length)]}function pe(t,e){function n(){window.removeEventListener(t,e)}return window.addEventListener(t,e),{removeListener:n}}function rt(t){const e=t.slice(),n=e[1].target;return e[17]=n.size,e[18]=n.rotation,e}function Rt(t){let e,n,s=t[1].target,r,i,l,c,o=Dt(t),u=t[1]&&Kt(rt(t));return{c(){e=T("div"),n=T("div"),o.c(),r=U(),i=j("svg"),u&&u.c(),d(n,"style",t[7]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full"),d(i,"style",t[6]),d(i,"version","1.1"),d(i,"class","z-0 absolute overflow-visible"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),A(e,n),o.m(n,null),A(e,r),A(e,i),u&&u.m(i,null),c=!0},p(f,a){a&2&&G(s,s=f[1].target)?(Z(),C(o,1,1,B),V(),o=Dt(f),o.c(),S(o,1),o.m(n,null)):o.p(f,a),f[1]?u?u.p(rt(f),a):(u=Kt(rt(f)),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){c||(S(o),f&&Y(()=>{c&&(l||(l=P(e,F,{},!0)),l.run(1))}),c=!0)},o(f){C(o),f&&(l||(l=P(e,F,{},!1)),l.run(0)),c=!1},d(f){f&&I(e),o.d(f),u&&u.d(),f&&l&&l.end()}}}function Dt(t){let e,n=t[1].key+"",s,r,i;return{c(){e=T("p"),s=te(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){L(l,e,c),A(e,s),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&fe(s,n)},i(l){i||(l&&Y(()=>{i&&(r||(r=P(e,F,{duration:100},!0)),r.run(1))}),i=!0)},o(l){l&&(r||(r=P(e,F,{duration:100},!1)),r.run(0)),i=!1},d(l){l&&I(e),l&&r&&r.end()}}}function Kt(t){let e,n,s,r,i;return{c(){e=j("circle"),n=j("circle"),r=j("circle"),D(e,"stroke-width",Ae*.1+"vw"),d(e,"class","absolute fill-none stroke-primary-50"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Ae*.95+"vw"),D(n,"transform","rotate("+(-90+t[18])+"deg)"),d(n,"class","absolute radial stroke-primary origin-center target-segment svelte-1s27jpb"),d(n,"stroke-dasharray",t[5]+"vw"),d(n,"stroke-dashoffset",s=t[5]*((100-t[17])/100)+"vw"),d(n,"stroke-width",Ut+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",Ae*.9+"vw"),D(r,"transform","rotate("+(-90+t[3]/100*360)+"deg)"),d(r,"class",i="absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success stroke-success":t[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(r,"stroke-dasharray",t[5]+"vw"),d(r,"stroke-dashoffset",t[5]*((100-Ln)/100)+"vw"),d(r,"stroke-width",Ut+"vw"),d(r,"fill-opacity","0"),d(r,"cx","50%"),d(r,"cy","50%"),d(r,"r",Ae*.9+"vw")},m(l,c){L(l,e,c),L(l,n,c),L(l,r,c)},p(l,c){c&2&&D(n,"transform","rotate("+(-90+l[18])+"deg)"),c&2&&s!==(s=l[5]*((100-l[17])/100)+"vw")&&d(n,"stroke-dashoffset",s),c&8&&D(r,"transform","rotate("+(-90+l[3]/100*360)+"deg)"),c&4&&i!==(i="absolute origin-center default-colour-transition "+(l[2]==="success"?"glow-success stroke-success":l[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(r,"class",i)},d(l){l&&(I(e),I(n),I(r))}}}function Ms(t){let e,n=t[0]&&Rt(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&S(n,1)):(n=Rt(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),C(n,1,1,()=>{n=null}),V())},i(s){S(n)},o(s){C(n)},d(s){s&&I(e),n&&n.d(s)}}}const Ln=2,Ut=1,Ae=4;function Rs(t,e,n){let s,r;W(t,K,h=>n(9,s=h));const i=De(0);W(t,i,h=>n(3,r=h));const l=Ae*2,c=2*Math.PI*Ae,o=`
        width: ${l}vw;
        height: ${l}vw;
    `,u=`
        width: ${l/2}vw;
        height: ${l/2}vw;
    `;let f=!1,a=null,m=null,v;K.subscribe(h=>{let w=h.active&&h.type===q.CircleProgress&&!a;w?(n(0,f=!0),b()):f&&!w&&(n(0,f=!1),n(1,a=null),n(2,m=null),g())});function g(){v==null||v.removeListener(),v=null}async function _(){if(!f)return;const h=a.duration;return i.set(100,{duration:h}),new Promise((w,N)=>{let k=setTimeout(()=>{w(!1)},h);v=pe(me.pressed,M=>{const R=M.key.toUpperCase();if(ye.Numbers.includes(R))if(clearTimeout(k),i.set(r,{duration:0}),R===a.key){const O=r/100*360,X=a.target.rotation,H=a.target.size*3.6,z=Ln*3.6;if(O>X-z&&O<H+X)w(!0);else{w(!1);return}}else w(!1)})})}async function p(h,w){if(!f)return;g(),i.set(0,{duration:0});let{difficulty:N}=w;N=(N||Ce.FALLBACK_DIFFICULTY)>=100?99:N<=0?5:N,n(1,a={target:E(N),duration:y(N),key:le("Numbers")}),n(2,m=null),await we(500);const k=await _();n(2,m=k?"success":"fail"),setTimeout(()=>{if(f)if(k&&h>0)if(h--,h>0)p(h,w);else{K.finish(!0),n(1,a=null);return}else{K.finish(!1),n(1,a=null);return}},500)}function b(){if(!s.active||a)return;const{iterations:h,config:w}=s;p(h,w)}function y(h){const{MIN:w,MAX:N}=Ce.DURATION;let k=w+(N-w)*((100-h)/100);const M=k*.2,R=Math.random()*M;return k+=R,k}function E(h){h=h>=100?99:h<=0?5:h;const{MAX:w}=Ce.SIZE,N=w-h/100*w;let k=90+Math.random()*120;return N*3.6+k>360&&(k-=N*3.6+k-360),{size:N,rotation:k}}return[f,a,m,r,i,c,o,u]}class Ds extends se{constructor(e){super(),ne(this,e,Rs,Ms,G,{})}}function lt(t){const e=t.slice(),n=e[1].target;return e[13]=n.size,e[14]=n.progress,e}function Ft(t){let e,n,s=t[1].target,r,i,l,c,o,u,f=Ot(t),a=t[1]&&Pt(lt(t));return{c(){e=T("div"),n=T("div"),f.c(),r=U(),i=T("div"),c=U(),a&&a.c(),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),D(i,"left",t[3]+"%"),D(i,"width",Nn+"vw"),d(i,"class",l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success bg-success":t[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50")},m(m,v){L(m,e,v),A(e,n),f.m(n,null),A(e,r),A(e,i),A(e,c),a&&a.m(e,null),u=!0},p(m,v){v&2&&G(s,s=m[1].target)?(Z(),C(f,1,1,B),V(),f=Ot(m),f.c(),S(f,1),f.m(n,null)):f.p(m,v),(!u||v&8)&&D(i,"left",m[3]+"%"),(!u||v&4&&l!==(l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(m[2]==="success"?"glow-success bg-success":m[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")))&&d(i,"class",l),m[1]?a?a.p(lt(m),v):(a=Pt(lt(m)),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(m){u||(S(f),m&&Y(()=>{u&&(o||(o=P(e,F,{},!0)),o.run(1))}),u=!0)},o(m){C(f),m&&(o||(o=P(e,F,{},!1)),o.run(0)),u=!1},d(m){m&&I(e),f.d(m),a&&a.d(),m&&o&&o.end()}}}function Ot(t){let e,n=t[1].key+"",s,r,i;return{c(){e=T("p"),s=te(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){L(l,e,c),A(e,s),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&fe(s,n)},i(l){i||(l&&Y(()=>{i&&(r||(r=P(e,F,{duration:100},!0)),r.run(1))}),i=!0)},o(l){l&&(r||(r=P(e,F,{duration:100},!1)),r.run(0)),i=!1},d(l){l&&I(e),l&&r&&r.end()}}}function Pt(t){let e;return{c(){e=T("div"),D(e,"left",t[14]+"%"),D(e,"width",t[13]+"%"),d(e,"class","h-[1vw] center-y absolute origin-center bg-primary z-0 target-segment svelte-1s27jpb")},m(n,s){L(n,e,s)},p(n,s){s&2&&D(e,"left",n[14]+"%"),s&2&&D(e,"width",n[13]+"%")},d(n){n&&I(e)}}}function Ks(t){let e,n=t[0]&&Ft(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&S(n,1)):(n=Ft(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),C(n,1,1,()=>{n=null}),V())},i(s){S(n)},o(s){C(n)},d(s){s&&I(e),n&&n.d(s)}}}const Nn=.5;function Us(t,e,n){let s,r;W(t,K,p=>n(6,s=p));const i=De(0);W(t,i,p=>n(3,r=p));let l=!1,c=null,o=null,u;K.subscribe(p=>{let b=p.active&&p.type===q.Progress&&!c;b?(n(0,l=!0),v()):l&&!b&&(n(0,l=!1),n(1,c=null),f())});function f(){u==null||u.removeListener(),u=null}async function a(){if(!l)return;const p=c.duration;return i.set(100,{duration:p}),new Promise((b,y)=>{let E=setTimeout(()=>{b(!1)},p);u=pe(me.pressed,h=>{const w=h.key.toUpperCase();if(ye.Numbers.includes(w))if(clearTimeout(E),i.set(r,{duration:0}),w===c.key){const N=c.target.progress,k=c.target.size,M=r;if(M>N-Nn&&M<k+N)b(!0);else{b(!1);return}}else b(!1)})})}async function m(p,b){if(!l)return;f(),i.set(0,{duration:0});let{difficulty:y}=b;y=(y||Ce.FALLBACK_DIFFICULTY)>=100?99:y<=0?5:y,n(1,c={target:_(y),duration:g(y),key:le("Numbers")}),await we(500);const E=await a();n(2,o=E?"success":"fail"),setTimeout(()=>{if(l)if(n(2,o=null),E&&p>0)if(p--,p>0)m(p,b);else{K.finish(!0),n(1,c=null);return}else{K.finish(!1),n(1,c=null);return}},500)}function v(){if(!s.active||c)return;const{iterations:p,config:b}=s;m(p,b)}function g(p){const{MIN:b,MAX:y}=Ce.DURATION;let E=b+(y-b)*((100-p)/100);const h=E*.2,w=Math.random()*h;return E+=w,E}function _(p){p=p>=100?99:p<=0?5:p;const{MAX:b}=Ce.SIZE,y=b-p/100*b,E=30,h=100-y,w=Math.random()*(h-E)+E;return{size:y,progress:w}}return[l,c,o,r,i]}class Fs extends se{constructor(e){super(),ne(this,e,Us,Ks,G,{})}}function zt(t,e,n){const s=t.slice();return s[19]=e[n],s[21]=n,s}function it(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e[18]=n.currentStage,e}function ot(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e}function Bt(t,e,n){const s=t.slice();return s[22]=e[n],s}function Yt(t){let e,n,s,r,i,l,c,o=t[1]&&Zt(t),u=t[1]&&Xt(ot(t)),f=t[1]&&jt(it(t));return{c(){e=T("div"),o&&o.c(),n=U(),s=j("svg"),r=j("circle"),u&&u.c(),i=U(),f&&f.c(),D(r,"stroke-width",ze*.1+"vw"),d(r,"class","absolute fill-none stroke-primary-50"),d(r,"cx","50%"),d(r,"cy","50%"),d(r,"r",ze*.95+"vw"),d(s,"style",t[6]),d(s,"version","1.1"),d(s,"class","z-0 absolute overflow-visible -rotate-90"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full w-fit h-fit")},m(a,m){L(a,e,m),o&&o.m(e,null),A(e,n),A(e,s),A(s,r),u&&u.m(s,null),A(e,i),f&&f.m(e,null),c=!0},p(a,m){a[1]?o?(o.p(a,m),m&2&&S(o,1)):(o=Zt(a),o.c(),S(o,1),o.m(e,n)):o&&(Z(),C(o,1,1,()=>{o=null}),V()),a[1]?u?u.p(ot(a),m):(u=Xt(ot(a)),u.c(),u.m(s,null)):u&&(u.d(1),u=null),a[1]?f?f.p(it(a),m):(f=jt(it(a)),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){c||(S(o),a&&Y(()=>{c&&(l||(l=P(e,F,{},!0)),l.run(1))}),c=!0)},o(a){C(o),a&&(l||(l=P(e,F,{},!1)),l.run(0)),c=!1},d(a){a&&I(e),o&&o.d(),u&&u.d(),f&&f.d(),a&&l&&l.end()}}}function Zt(t){let e=t[1].keys,n,s,r=Gt(t);return{c(){r.c(),n=$()},m(i,l){r.m(i,l),L(i,n,l),s=!0},p(i,l){l&2&&G(e,e=i[1].keys)?(Z(),C(r,1,1,B),V(),r=Gt(i),r.c(),S(r,1),r.m(n.parentNode,n)):r.p(i,l)},i(i){s||(S(r),s=!0)},o(i){C(r),s=!1},d(i){i&&I(n),r.d(i)}}}function Vt(t){let e,n,s=t[22]+"",r,i,l,c;return{c(){e=T("div"),n=T("p"),r=te(s),l=U(),d(n,"class","text-shadow absolute font-bold text-[2vw]"),d(e,"style",t[7]),d(e,"class","grid place-items-center secondary-shadow bg-primary-50")},m(o,u){L(o,e,u),A(e,n),A(n,r),A(e,l),c=!0},p(o,u){(!c||u&2)&&s!==(s=o[22]+"")&&fe(r,s)},i(o){c||(o&&Y(()=>{c&&(i||(i=P(n,F,{duration:100},!0)),i.run(1))}),c=!0)},o(o){o&&(i||(i=P(n,F,{duration:100},!1)),i.run(0)),c=!1},d(o){o&&I(e),o&&i&&i.end()}}}function Gt(t){var c;let e,n,s,r=Q((c=t[1])==null?void 0:c.keys),i=[];for(let o=0;o<r.length;o+=1)i[o]=Vt(Bt(t,r,o));const l=o=>C(i[o],1,1,()=>{i[o]=null});return{c(){e=T("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"class","flex flex-row items-center justify-center absolute")},m(o,u){L(o,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);s=!0},p(o,u){var f;if(u&130){r=Q((f=o[1])==null?void 0:f.keys);let a;for(a=0;a<r.length;a+=1){const m=Bt(o,r,a);i[a]?(i[a].p(m,u),S(i[a],1)):(i[a]=Vt(m),i[a].c(),S(i[a],1),i[a].m(e,null))}for(Z(),a=r.length;a<i.length;a+=1)l(a);V()}},i(o){if(!s){for(let u=0;u<r.length;u+=1)S(i[u]);o&&Y(()=>{s&&(n||(n=P(e,F,{},!0)),n.run(1))}),s=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)C(i[u]);o&&(n||(n=P(e,F,{},!1)),n.run(0)),s=!1},d(o){o&&I(e),be(i,o),o&&n&&n.end()}}}function Xt(t){let e,n;return{c(){e=j("circle"),D(e,"transform","rotate("+(1/t[17]*360-90)+"deg)"),d(e,"class","absolute stroke-primary origin-center"),d(e,"stroke-dasharray",t[5]+"vw"),d(e,"stroke-dashoffset",n=t[5]*((100-t[3])/100)+"vw"),d(e,"stroke-width",Ps+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",ze*.95+"vw")},m(s,r){L(s,e,r)},p(s,r){r&2&&D(e,"transform","rotate("+(1/s[17]*360-90)+"deg)"),r&8&&n!==(n=s[5]*((100-s[3])/100)+"vw")&&d(e,"stroke-dashoffset",n)},d(s){s&&I(e)}}}function jt(t){let e,n=Q({length:t[17]}),s=[];for(let r=0;r<n.length;r+=1)s[r]=$t(zt(t,n,r));return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=$()},m(r,i){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(r,i);L(r,e,i)},p(r,i){if(i&70){n=Q({length:r[17]});let l;for(l=0;l<n.length;l+=1){const c=zt(r,n,l);s[l]?s[l].p(c,i):(s[l]=$t(c),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(r){r&&I(e),be(s,r)}}}function $t(t){let e,n,s,r,i;return{c(){e=T("div"),n=T("div"),r=U(),d(n,"class",s="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(t[2]=="fail"?"bg-fail glow-fail":t[18]===t[21]||t[18]===t[17]&&t[21]===0?"bg-accent glow-accent":t[18]>=t[21]&&t[21]!==0||t[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow")),d(e,"style",i="transform: rotate("+((t[21]+1)/t[17]*360-90)+"deg);"+t[6]),d(e,"class","origin-center absolute")},m(l,c){L(l,e,c),A(e,n),A(e,r)},p(l,c){c&6&&s!==(s="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(l[2]=="fail"?"bg-fail glow-fail":l[18]===l[21]||l[18]===l[17]&&l[21]===0?"bg-accent glow-accent":l[18]>=l[21]&&l[21]!==0||l[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow"))&&d(n,"class",s),c&2&&i!==(i="transform: rotate("+((l[21]+1)/l[17]*360-90)+"deg);"+l[6])&&d(e,"style",i)},d(l){l&&I(e)}}}function Os(t){let e,n,s=t[0]&&Yt(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[0]?s?(s.p(r,i),i&1&&S(s,1)):(s=Yt(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),C(s,1,1,()=>{s=null}),V())},i(r){n||(S(s),n=!0)},o(r){C(s),n=!1},d(r){r&&I(e),s&&s.d(r)}}}const Ps=.5,ze=5;function zs(t,e,n){let s,r;W(t,K,h=>n(10,s=h));const i=De(0);W(t,i,h=>n(3,r=h));let l={};const c=ze*2,o=2*Math.PI*ze,u=`
        width: ${c}vw;
        height: ${c}vw;
    `,f=`
        width: ${c/4}vw;
        height: ${c/4}vw;
    `;let a=!1,m=null,v=null,g={Down:null,Up:null};K.subscribe(h=>{let w=h.active&&h.type===q.KeyCircle&&!m;w?(n(0,a=!0),y()):a&&!w&&(n(0,a=!1),n(1,m=null),n(2,v=null),_())});function _(){var h,w;(h=g.Down)==null||h.removeListener(),(w=g.Up)==null||w.removeListener(),g={Down:null,Up:null},l={}}async function p(){if(!a)return;const h=m.duration,{currentStage:w,stages:N,keys:k}=m,M=Math.floor(w/N*100);return i.set(M,{duration:h}),new Promise((R,O)=>{let X=setTimeout(()=>{R(!1)},h);_(),g.Down=pe(me.down,H=>{if(!a||(l[H.key.toUpperCase()]=!0,v))return;const z=Object.keys(l);if(z.length===2){clearTimeout(X),_();const ae=z.includes(k[0]),de=z.includes(k[1]);if(i.set(M,{duration:0}),ae&&de){if(n(1,m.currentStage++,m),m.currentStage>m.stages){R(!0);return}n(1,m.keys=[le("PrimarySet"),le("SecondarySet")],m),R(p())}else{R(!1);return}}}),g.Up=pe(me.up,H=>{delete l[H.key.toUpperCase()]})})}async function b(h,w){if(!a)return;_(),i.set(0,{duration:0});let{difficulty:N,numberOfKeys:k}=w;N=(N||nt.FALLBACK_DIFFICULTY)>=100?99:N<=0?5:N,k=k||nt.FALLBACK_NUM_KEYS,n(1,m={stages:k,currentStage:1,duration:E(N),keys:[le("PrimarySet"),le("SecondarySet")]}),n(2,v=null),await we(500);const M=await p();n(2,v=M?"success":"fail"),setTimeout(()=>{if(a)if(M&&h>0)if(h--,h>0)b(h,w);else{K.finish(!0),n(1,m=null);return}else{K.finish(!1),n(1,m=null);return}},500)}function y(){if(!s.active||m)return;const{iterations:h,config:w}=s;b(h,w)}function E(h){const{MIN:w,MAX:N}=nt.DURATION;let k=w+(N-w)*((100-h)/100);const M=k*.2,R=Math.random()*M;return k+=R,k}return[a,m,v,r,i,o,u,f]}class Bs extends se{constructor(e){super(),ne(this,e,zs,Os,G,{})}}function ct(t){const e=t.slice(),n=e[1];return e[15]=n.size,e}function Ht(t){let e,n,s,r,i,l,c,o=t[1]&&qt(t),u=t[1]&&Jt(ct(t));return{c(){e=T("div"),n=T("div"),o&&o.c(),s=U(),r=j("svg"),i=j("circle"),u&&u.c(),l=j("circle"),d(n,"class","absolute grid place-items-center z-10"),D(i,"stroke-width",Fe*.1+"vw z-0"),d(i,"class","absolute fill-primary-50"),d(i,"cx","50%"),d(i,"cy","50%"),d(i,"r",Fe+"vw"),D(l,"transform","rotate(-90deg)"),d(l,"class","absolute radial stroke-primary origin-center target-segment secondary-shadow"),d(l,"stroke-dasharray",t[5]+"vw"),d(l,"stroke-dashoffset",c=t[5]*(-(100-t[3])/100)+"vw"),d(l,"stroke-width",Zs+"vw"),d(l,"fill-opacity","0"),d(l,"cx","50%"),d(l,"cy","50%"),d(l,"r",Fe*.95+"vw"),d(r,"style",t[6]),d(r,"version","1.1"),d(r,"class","absolute overflow-visible"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),A(e,n),o&&o.m(n,null),A(e,s),A(e,r),A(r,i),u&&u.m(r,null),A(r,l)},p(f,a){f[1]?o?o.p(f,a):(o=qt(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),f[1]?u?u.p(ct(f),a):(u=Jt(ct(f)),u.c(),u.m(r,l)):u&&(u.d(1),u=null),a&8&&c!==(c=f[5]*(-(100-f[3])/100)+"vw")&&d(l,"stroke-dashoffset",c)},d(f){f&&I(e),o&&o.d(),u&&u.d()}}}function qt(t){let e=t[1].key,n,s=Wt(t);return{c(){s.c(),n=$()},m(r,i){s.m(r,i),L(r,n,i)},p(r,i){i&2&&G(e,e=r[1].key)?(Z(),C(s,1,1,B),V(),s=Wt(r),s.c(),S(s,1),s.m(n.parentNode,n)):s.p(r,i)},d(r){r&&I(n),s.d(r)}}}function Wt(t){let e,n=t[1].key+"",s,r,i,l;return{c(){e=T("p"),s=te(n),d(e,"class",r="text-shadow absolute font-bold text-[2vw] "+(!t[2]&&"animate-scale")+" svelte-zhs4mv")},m(c,o){L(c,e,o),A(e,s),l=!0},p(c,o){(!l||o&2)&&n!==(n=c[1].key+"")&&fe(s,n),(!l||o&4&&r!==(r="text-shadow absolute font-bold text-[2vw] "+(!c[2]&&"animate-scale")+" svelte-zhs4mv"))&&d(e,"class",r)},i(c){l||(c&&Y(()=>{l&&(i||(i=P(e,F,{duration:100},!0)),i.run(1))}),l=!0)},o(c){c&&(i||(i=P(e,F,{duration:100},!1)),i.run(0)),l=!1},d(c){c&&I(e),c&&i&&i.end()}}}function Jt(t){let e,n,s;return{c(){e=j("circle"),d(e,"class",n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(t[2]==="success"?"glow-success fill-success":t[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent")),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",s=t[15]/2+"%")},m(r,i){L(r,e,i)},p(r,i){i&4&&n!==(n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(r[2]==="success"?"glow-success fill-success":r[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent"))&&d(e,"class",n),i&2&&s!==(s=r[15]/2+"%")&&d(e,"r",s)},d(r){r&&I(e)}}}function Ys(t){let e,n=t[0]&&Ht(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?n.p(s,r):(n=Ht(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:B,o:B,d(s){s&&I(e),n&&n.d(s)}}}const Zs=.5,Fe=4;function Vs(t,e,n){let s,r;W(t,K,y=>n(8,s=y));const i=De(0);W(t,i,y=>n(3,r=y));const l=Fe*2,c=2*Math.PI*Fe,o=`
        width: ${l}vw;
        height: ${l}vw;
    `;let u=!1,f=null,a=null,m;K.subscribe(y=>{let E=y.active&&y.type===q.KeySpam&&!f;E?(n(0,u=!0),p()):u&&!E&&(n(0,u=!1),n(1,f=null),n(2,a=null),v())});function v(){m==null||m.removeListener(),m=null}async function g(){if(!u)return;const y=f.duration;return i.set(100,{duration:y}),new Promise((E,h)=>{let w=setInterval(()=>{u&&(n(1,f.size-=.1,f),f.size<=0&&n(1,f.size=0,f))},1),N=setTimeout(()=>{u&&(clearTimeout(N),clearInterval(w),E(!1))},y);m=pe(me.pressed,k=>{const M=k.key.toUpperCase();if(ye.PrimarySet.includes(M)&&M===f.key){let{size:R}=f;n(1,f.size=R+10,f),f.size>=100&&(n(1,f.size=100,f),clearTimeout(N),clearInterval(w),i.set(r,{duration:0}),E(!0))}})})}async function _(y,E){if(!u)return;v(),i.set(0,{duration:0});let{difficulty:h}=E;h=(h||Mt.FALLBACK_DIFFICULTY)>=100?99:h<=0?5:h,n(1,f={duration:b(h),key:le("PrimarySet"),size:0}),n(2,a=null),await we(500);const w=await g();v(),n(2,a=w?"success":"fail"),setTimeout(()=>{if(u)if(w&&y>0)if(y--,y>0)_(y,E);else{K.finish(!0),n(1,f=null);return}else{K.finish(!1),n(1,f=null);return}},500)}function p(){if(!s.active||f)return;const{iterations:y,config:E}=s;_(y,E)}function b(y){const{MIN:E,MAX:h}=Mt.DURATION;let w=E+(h-E)*((100-y)/100);const N=w*.2,k=Math.random()*N;return w+=k,w}return[u,f,a,r,i,c,o]}class Gs extends se{constructor(e){super(),ne(this,e,Vs,Ys,G,{})}}function Qt(t){let e,n,s=(t[5]<t[6]?t[4]:t[0])+"",r,i,l,c;return{c(){e=T("div"),n=T("p"),r=te(s),d(n,"class",i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(t[1]==="success"?"text-success glow-success":t[1]==="fail"?"text-fail glow-fail":t[3]?"text-accent":"text-primary")),D(e,"left",t[5]+"%"),d(e,"class","grid place-items-center absolute")},m(o,u){L(o,e,u),A(e,n),A(n,r),c=!0},p(o,u){(!c||u&49)&&s!==(s=(o[5]<o[6]?o[4]:o[0])+"")&&fe(r,s),(!c||u&10&&i!==(i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(o[1]==="success"?"text-success glow-success":o[1]==="fail"?"text-fail glow-fail":o[3]?"text-accent":"text-primary")))&&d(n,"class",i),(!c||u&32)&&D(e,"left",o[5]+"%")},i(o){c||(o&&Y(()=>{c&&(l||(l=P(e,F,{duration:250},!0)),l.run(1))}),c=!0)},o(o){o&&(l||(l=P(e,F,{duration:250},!1)),l.run(0)),c=!1},d(o){o&&I(e),o&&l&&l.end()}}}function Xs(t){let e,n=t[5]>0&&t[5]<100&&Qt(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[5]>0&&s[5]<100?n?(n.p(s,r),r&32&&S(n,1)):(n=Qt(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),C(n,1,1,()=>{n=null}),V())},i(s){S(n)},o(s){C(n)},d(s){s&&I(e),n&&n.d(s)}}}function js(t,e,n){let s,r=B,i=()=>(r(),r=qe(o,g=>n(5,s=g)),o);t.$$.on_destroy.push(()=>r());let{key:l=null}=e,{state:c=null}=e,{left:o=null}=e;i();let{active:u=null}=e,f="1",a=null;function m(){clearInterval(a),a=null}const v=50-ge.ZONE_SIZE*1.5;return Qe(()=>{n(4,f=le("Numbers")),a=setInterval(()=>{(s>v||c)&&m();let g=le("Numbers");for(;g===f;)g=le("Numbers");n(4,f=g)},150)}),t.$$set=g=>{"key"in g&&n(0,l=g.key),"state"in g&&n(1,c=g.state),"left"in g&&i(n(2,o=g.left)),"active"in g&&n(3,u=g.active)},[l,c,o,u,f,s,v]}class $s extends se{constructor(e){super(),ne(this,e,js,Xs,G,{key:0,state:1,left:2,active:3})}}function xt(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function en(t){let e,n,s,r,i,l=t[2]&&tn(t);return{c(){e=T("div"),n=T("div"),s=U(),l&&l.c(),D(n,"width",ge.ZONE_SIZE+"%"),d(n,"class","bg-primary secondary-shadow h-[2.5vw]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center justify-center")},m(c,o){L(c,e,o),A(e,n),A(e,s),l&&l.m(e,null),i=!0},p(c,o){c[2]?l?(l.p(c,o),o&4&&S(l,1)):(l=tn(c),l.c(),S(l,1),l.m(e,null)):l&&(Z(),C(l,1,1,()=>{l=null}),V())},i(c){i||(S(l),c&&Y(()=>{i&&(r||(r=P(e,F,{},!0)),r.run(1))}),i=!0)},o(c){C(l),c&&(r||(r=P(e,F,{},!1)),r.run(0)),i=!1},d(c){c&&I(e),l&&l.d(),c&&r&&r.end()}}}function tn(t){let e,n,s=Q(t[2].keys),r=[];for(let l=0;l<s.length;l+=1)r[l]=nn(xt(t,s,l));const i=l=>C(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$()},m(l,c){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(l,c);L(l,e,c),n=!0},p(l,c){if(c&5){s=Q(l[2].keys);let o;for(o=0;o<s.length;o+=1){const u=xt(l,s,o);r[o]?(r[o].p(u,c),S(r[o],1)):(r[o]=nn(u),r[o].c(),S(r[o],1),r[o].m(e.parentNode,e))}for(Z(),o=s.length;o<r.length;o+=1)i(o);V()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)S(r[c]);n=!0}},o(l){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)C(r[c]);n=!1},d(l){l&&I(e),be(r,l)}}}function nn(t){let e,n;const s=[t[12],{active:t[0]===t[14]}];let r={};for(let i=0;i<s.length;i+=1)r=Oe(r,s[i]);return e=new $s({props:r}),{c(){re(e.$$.fragment)},m(i,l){x(e,i,l),n=!0},p(i,l){const c=l&5?kn(s,[l&4&&Sn(i[12]),l&1&&{active:i[0]===i[14]}]):{};e.$set(c)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Hs(t){let e,n,s=t[1]&&en(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[1]?s?(s.p(r,i),i&2&&S(s,1)):(s=en(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),C(s,1,1,()=>{s=null}),V())},i(r){n||(S(s),n=!0)},o(r){C(s),n=!1},d(r){r&&I(e),s&&s.d(r)}}}function qs(t,e,n){let s;W(t,K,_=>n(5,s=_));let r=null,i=!1,l=null,c=null,o;K.subscribe(_=>{let p=_.active&&_.type===q.NumberSlide&&!l;p?(n(1,i=!0),m()):i&&!p&&(n(1,i=!1),n(2,l=null),c=null,u())});function u(){o==null||o.removeListener(),o=null}async function f(){if(i)return n(0,r=null),new Promise((_,p)=>{const{keys:b}=l,{ZONE_SIZE:y}=ge;let E=[];function h(w){E.forEach(N=>N()),E=[],b.forEach((N,k)=>{let{left:M}=N;M.set(Me(M),{duration:0}),n(2,l.keys[k].state=w?"success":"fail",l)}),_(w)}b.forEach((w,N)=>{let k=l.keys[N];E.push(w.left.subscribe(M=>{M>=50-y/2&&M<=50+y/2?n(0,r=N):M>50+y/2&&k.state!=="success"&&(k.state="fail",n(2,l.keys[N]=k,l),h(!1))}))}),o=pe(me.pressed,w=>{const N=w.key.toUpperCase();if(!ye.Numbers.includes(N))return;const k=l.keys[r];k||h(!1),N===k.key?(k.state="success",n(2,l.keys[r]=k,l),l.keys.every(R=>R.state==="success")&&h(!0)):h(!1)})})}async function a(_,p){if(!i)return;u();let{difficulty:b,numberOfKeys:y}=p;b=(b||ge.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,y=y||ge.FALLBACK_NUM_KEYS;const E=v(b),h=g(y,E);n(2,l={duration:E,keys:h}),c=null,n(0,r=null),await we(500);const w=await f();u(),c=w?"success":"fail",setTimeout(()=>{if(i)if(w&&_>0)if(_--,_>0)a(_,p);else{K.finish(!0),n(2,l=null);return}else{K.finish(!1),n(2,l=null);return}},500)}function m(){if(!s.active||l)return;const{iterations:_,config:p}=s;a(_,p)}function v(_){const{MIN:p,MAX:b}=ge.DURATION;let y=p+(b-p)*((100-_)/100);const E=y*.2,h=Math.random()*E;return y+=h,y}function g(_,p){const b=ge.ZONE_SIZE,y=p*(b/100),E=[];for(let h=0;h<_;h++){const w={key:le("Numbers"),left:De(0,{duration:0}),state:null};setTimeout(()=>{c||w.left.set(100,{duration:p})},y*h),E.push(w)}return E}return[r,i,l]}class Ws extends se{constructor(e){super(),ne(this,e,qs,Hs,G,{})}}function sn(t){let e,n,s,r,i;return{c(){e=T("div"),D(e,"left",t[2]+"%"),D(e,"width",Qs+"vw"),d(e,"class",n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(t[0]==="success"?"bg-success glow-success":t[0]==="fail"?"bg-fail glow-fail":t[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow"))},m(l,c){L(l,e,c),i=!0},p(l,c){(!i||c&4)&&D(e,"left",l[2]+"%"),(!i||c&1&&n!==(n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(l[0]==="success"?"bg-success glow-success":l[0]==="fail"?"bg-fail glow-fail":l[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow")))&&d(e,"class",n)},i(l){i||(l&&Y(()=>{i&&(r&&r.end(1),s=ss(e,F,{duration:250}),s.start())}),i=!0)},o(l){s&&s.invalidate(),l&&(r=rs(e,F,{duration:250,delay:250})),i=!1},d(l){l&&I(e),l&&r&&r.end()}}}function Js(t){let e,n=t[2]>0&&t[2]<100&&sn(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[2]>0&&s[2]<100?n?(n.p(s,r),r&4&&S(n,1)):(n=sn(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),C(n,1,1,()=>{n=null}),V())},i(s){S(n)},o(s){C(n)},d(s){s&&I(e),n&&n.d(s)}}}const Qs=.5;function xs(t,e,n){let s,r=B,i=()=>(r(),r=qe(c,o=>n(2,s=o)),c);t.$$.on_destroy.push(()=>r());let{state:l=null}=e,{left:c=null}=e;return i(),t.$$set=o=>{"state"in o&&n(0,l=o.state),"left"in o&&i(n(1,c=o.left))},[l,c,s]}class er extends se{constructor(e){super(),ne(this,e,xs,Js,G,{state:0,left:1})}}function rn(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function ln(t){let e,n,s,r,i,l,c,o=t[0]&&on(t);return{c(){e=T("div"),n=T("div"),s=T("p"),s.textContent=`${ye.Primary}`,i=U(),o&&o.c(),d(s,"class","text-shadow absolute font-bold text-[2vw]"),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center")},m(u,f){L(u,e,f),A(e,n),A(n,s),A(e,i),o&&o.m(e,null),c=!0},p(u,f){u[0]?o?(o.p(u,f),f&1&&S(o,1)):(o=on(u),o.c(),S(o,1),o.m(e,null)):o&&(Z(),C(o,1,1,()=>{o=null}),V())},i(u){c||(u&&Y(()=>{c&&(r||(r=P(s,F,{duration:100},!0)),r.run(1))}),S(o),u&&Y(()=>{c&&(l||(l=P(e,F,{},!0)),l.run(1))}),c=!0)},o(u){u&&(r||(r=P(s,F,{duration:100},!1)),r.run(0)),C(o),u&&(l||(l=P(e,F,{},!1)),l.run(0)),c=!1},d(u){u&&I(e),u&&r&&r.end(),o&&o.d(),u&&l&&l.end()}}}function on(t){let e,n,s,r,i=Q(t[0].lines),l=[];for(let o=0;o<i.length;o+=1)l[o]=cn(rn(t,i,o));const c=o=>C(l[o],1,1,()=>{l[o]=null});return{c(){e=T("div"),n=U();for(let o=0;o<l.length;o+=1)l[o].c();s=$(),D(e,"width",t[0].zone+"%"),D(e,"left",Ie.ZONE_FROM_RIGHT+"%"),d(e,"class","bg-primary secondary-shadow h-[1vw] z-0 absolute -translate-x-full")},m(o,u){L(o,e,u),L(o,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);L(o,s,u),r=!0},p(o,u){if((!r||u&1)&&D(e,"width",o[0].zone+"%"),u&1){i=Q(o[0].lines);let f;for(f=0;f<i.length;f+=1){const a=rn(o,i,f);l[f]?(l[f].p(a,u),S(l[f],1)):(l[f]=cn(a),l[f].c(),S(l[f],1),l[f].m(s.parentNode,s))}for(Z(),f=i.length;f<l.length;f+=1)c(f);V()}},i(o){if(!r){for(let u=0;u<i.length;u+=1)S(l[u]);r=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);r=!1},d(o){o&&(I(e),I(n),I(s)),be(l,o)}}}function cn(t){let e,n;const s=[t[12]];let r={};for(let i=0;i<s.length;i+=1)r=Oe(r,s[i]);return e=new er({props:r}),{c(){re(e.$$.fragment)},m(i,l){x(e,i,l),n=!0},p(i,l){const c=l&1?kn(s,[Sn(i[12])]):{};e.$set(c)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function tr(t){let e,n,s=t[1]&&ln(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[1]?s?(s.p(r,i),i&2&&S(s,1)):(s=ln(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),C(s,1,1,()=>{s=null}),V())},i(r){n||(S(s),n=!0)},o(r){C(s),n=!1},d(r){r&&I(e),s&&s.d(r)}}}function nr(t,e,n){let s;W(t,K,_=>n(4,s=_));let r=null,i=!1,l=null,c;K.subscribe(_=>{let p=_.active&&_.type===q.RapidLines&&!r;p?(n(1,i=!0),a()):i&&!p&&(n(1,i=!1),n(0,r=null),l=null,o())});function o(){c==null||c.removeListener(),c=null}async function u(){if(i)return new Promise((_,p)=>{const{lines:b,zone:y}=r,{ZONE_FROM_RIGHT:E}=Ie,h={max:E,min:E-y};let w=[];function N(k){w.forEach(M=>M()),w=[],console.log("clearing",k),b.forEach((M,R)=>{let{left:O}=M;O.set(Me(O),{duration:0}),n(0,r.lines[R].state=k?"success":"fail",r)}),_(k)}b.forEach((k,M)=>{let R=r.lines[M];w.push(k.left.subscribe(O=>{O>h.min&&O<h.max&&R.state!=="success"?R.state="active":(O==100||O>h.max)&&R.state!=="success"&&(console.log("fail",M,r.lines[M],O,R.state,r.lines[M]),R.state="fail",N(!1)),n(0,r.lines[M]=R,r)}))}),c=pe(me.pressed,k=>{if(k.key.toUpperCase()!==ye.Primary)return;let R=!1,O=0,X=0;if(b.forEach((H,z)=>{let{left:ae,state:de}=H;if(de==="active"){const _e=Me(ae);_e>h.min&&_e<h.max&&(R=!0,_e>O&&(X=z,O=_e))}}),!R)N(!1);else{const H=r.lines[X];H.state="success",n(0,r.lines[X]=H,r),console.log(X,r.lines[X]),r.lines.every(ae=>ae.state==="success")&&N(!0)}})})}async function f(_,p){if(!i)return;o();let{difficulty:b,numberOfKeys:y}=p;b=(b||Ie.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,y=y||Ie.FALLBACK_NUM_LINES;const E=v(b),h=g(y,E),w=m(b);n(0,r={duration:E,lines:h,zone:w}),l=null,await we(500);const N=await u();o(),l=N?"success":"fail",setTimeout(()=>{if(i)if(N&&_>0)if(_--,_>0)f(_,p);else{K.finish(!0),n(0,r=null);return}else{K.finish(!1),n(0,r=null);return}},500)}function a(){if(!s.active||r)return;const{iterations:_,config:p}=s;f(_,p)}function m(_){const{MIN:p,MAX:b}=Ie.ZONE;let y=p+(b-p)*((100-_)/100);const E=y*.2,h=Math.random()*E;return y+=h,y}function v(_){const{MIN:p,MAX:b}=Ie.DURATION;let y=p+(b-p)*((100-_)/100);const E=y*.2,h=Math.random()*E;return y+=h,y}function g(_,p){const b=[];for(let y=0;y<_;y++){const E=Math.random()*100,w=p*(.2+Math.random()*.6)+(E/100+y*10),N={left:De(0,{duration:0}),state:null};setTimeout(()=>{l||N.left.set(100,{duration:p})},w*y),b.push(N)}return b}return[r,i]}class sr extends se{constructor(e){super(),ne(this,e,nr,tr,G,{})}}function un(t,e,n){const s=t.slice();s[23]=e[n],s[28]=n;const r=100/s[20];s[24]=r;const i=s[28]/s[20]*360;s[25]=i;const l=s[28]+1;return s[26]=l,s}function ut(t){const e=t.slice(),n=e[2].stages;e[20]=n;const s=e[2].progress+"%";e[21]=s;const r=e[2].currentStage;return e[22]=r,e}function fn(t){let e,n,s,r,i,l,c=t[2]&&an(ut(t)),o=t[2]&&_n(t);return{c(){e=T("div"),n=T("div"),c&&c.c(),s=U(),r=j("svg"),o&&o.c(),d(n,"style",t[10]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full svelte-5equ90"),vt(n,"shake",t[5]),d(r,"style",t[9]),d(r,"version","1.1"),d(r,"class","z-0 absolute overflow-visible"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[9]),d(e,"class","grid place-items-center origin-center primary-shadow default-game-position rounded-full circle-shake-main")},m(u,f){L(u,e,f),A(e,n),c&&c.m(n,null),A(e,s),A(e,r),o&&o.m(r,null),t[11](e),l=!0},p(u,f){u[2]?c?c.p(ut(u),f):(c=an(ut(u)),c.c(),c.m(n,null)):c&&(c.d(1),c=null),(!l||f&32)&&vt(n,"shake",u[5]),u[2]?o?o.p(u,f):(o=_n(u),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},i(u){l||(u&&Y(()=>{l&&(i||(i=P(e,F,{},!0)),i.run(1))}),l=!0)},o(u){u&&(i||(i=P(e,F,{},!1)),i.run(0)),l=!1},d(u){u&&I(e),c&&c.d(),o&&o.d(),t[11](null),u&&i&&i.end()}}}function an(t){let e,n,s,r,i=Q({length:t[20]}),l=[];for(let c=0;c<i.length;c+=1)l[c]=dn(un(t,i,c));return{c(){e=j("svg");for(let c=0;c<l.length;c+=1)l[c].c();n=U(),s=T("div"),r=T("div"),d(e,"version","1.1"),d(e,"class","z-0 absolute overflow-visible w-full h-full"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(r,"class","bg-accent glow-accent rounded-full aspect-square"),D(r,"width",t[21]),d(s,"class","absolute aspect-square w-full grid place-items-center rounded-full overflow-hidden z-10")},m(c,o){L(c,e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);L(c,n,o),L(c,s,o),A(s,r)},p(c,o){if(o&388){i=Q({length:c[20]});let u;for(u=0;u<i.length;u+=1){const f=un(c,i,u);l[u]?l[u].p(f,o):(l[u]=dn(f),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}o&4&&D(r,"width",c[21])},d(c){c&&(I(e),I(n),I(s)),be(l,c)}}}function dn(t){let e,n,s;return{c(){e=j("circle"),D(e,"transform","rotate("+(-90+t[25])+"deg)"),d(e,"class",n="absolute radial "+(t[26]<t[22]?"stroke-white":t[26]==t[22]?"stroke-accent glow-accent ":"stroke-primary-50")+" origin-center"),d(e,"stroke-dasharray",t[8]+"vw"),d(e,"stroke-dashoffset",s=t[8]*((101-t[24])/100)+"vw"),d(e,"stroke-width",Cn+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",t[7]+"vw")},m(r,i){L(r,e,i)},p(r,i){i&4&&D(e,"transform","rotate("+(-90+r[25])+"deg)"),i&4&&n!==(n="absolute radial "+(r[26]<r[22]?"stroke-white":r[26]==r[22]?"stroke-accent glow-accent ":"stroke-primary-50")+" origin-center")&&d(e,"class",n),i&4&&s!==(s=r[8]*((101-r[24])/100)+"vw")&&d(e,"stroke-dashoffset",s)},d(r){r&&I(e)}}}function _n(t){let e,n,s;return{c(){e=j("circle"),n=j("circle"),D(e,"stroke-width",Te*.1+"vw"),d(e,"class","absolute fill-none stroke-primary"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Te*.95+"vw"),D(n,"transform","rotate("+(t[3]-180)+"deg)"),d(n,"class",s="absolute origin-center default-colour-transition "+(t[4]==="success"?"glow-success stroke-success":t[4]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(n,"stroke-dasharray",t[6]+"vw"),d(n,"stroke-dashoffset",t[6]*((100-lr)/100)+"vw"),d(n,"stroke-width",Cn+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",Te*.95+"vw")},m(r,i){L(r,e,i),L(r,n,i)},p(r,i){i&8&&D(n,"transform","rotate("+(r[3]-180)+"deg)"),i&16&&s!==(s="absolute origin-center default-colour-transition "+(r[4]==="success"?"glow-success stroke-success":r[4]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(n,"class",s)},d(r){r&&(I(e),I(n))}}}function rr(t){let e,n=t[1]&&fn(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&S(n,1)):(n=fn(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),C(n,1,1,()=>{n=null}),V())},i(s){S(n)},o(s){C(n)},d(s){s&&I(e),n&&n.d(s)}}}const lr=2,Cn=.5,Te=5;function ir(t,e,n){let s;W(t,K,k=>n(13,s=k));let r=null;const i=Te*2,l=2*Math.PI*Te,c=Te/1.5,o=2*Math.PI*c,u=`
        width: ${i}vw;
        height: ${i}vw;
    `,f=`
        width: ${i/2}vw;
        height: ${i/2}vw;
    `;let a=!1,m=null,v=0,g=null,_,p=!1;K.subscribe(k=>{let M=k.active&&k.type===q.CircleShake&&!m;M?(n(1,a=!0),h()):a&&!M&&(n(1,a=!1),n(2,m=null),n(4,g=null),n(5,p=!1),b())});function b(){_==null||_.removeListener(),_=null}async function y(k){if(!a)return;const M=()=>Math.random()*(150-50)+50;let R=M();return n(5,p=!1),new Promise((O,X)=>{let H=setInterval(()=>{!a||!p||(n(2,m.progress+=1,m),m.progress>=100&&(m.currentStage<m.stages?(n(2,m.currentStage++,m),n(2,m.progress=0,m),n(2,m.target=w(k),m),R=M(),n(5,p=!1)):(n(5,p=!1),clearInterval(H),O(!0))))},R),z=!1;_=pe(In.move,ae=>{const de=r.getBoundingClientRect(),_e=m.target,Tn=ae.clientX,Mn=ae.clientY,Rn=de.left+de.width/2,Dn=de.top+de.height/2;n(3,v=Cs(Tn,Mn,Rn,Dn));const Kn=Se(_e.rotation),Un=Se(_e.rotation+_e.size*3.6);v>Kn&&v<Un?(z=!0,setTimeout(()=>{z&&n(5,p=!0)},500)):(z=!1,n(5,p=!1))})})}async function E(k,M){if(!a)return;b(),n(3,v=0),n(5,p=!1);let{difficulty:R,numberOfKeys:O}=M;R=(R||st.FALLBACK_DIFFICULTY)>=100?99:R<=0?5:R,O=O||st.FALLBACK_NUM_KEYS,n(2,m={target:w(R),stages:O,currentStage:1,progress:0}),n(4,g=null),await we(500);const X=await y(R);n(4,g=X?"success":"fail"),setTimeout(()=>{if(a)if(X&&k>0)if(k--,k>0)E(k,M);else{K.finish(!0),n(2,m=null);return}else{K.finish(!1),n(2,m=null);return}},500)}function h(){if(!s.active||m)return;const{iterations:k,config:M}=s;E(k,M)}function w(k){k=k>=100?99:k<=0?5:k;const{MIN:M,MAX:R}=st.SIZE,O=R-k/100*(R-M),X=-180,H=180;let z=Math.random()*(H-X)+H;return Se(z)>0&&Se(z+O*3.6)<0?z=z-O*3.6:Se(z)<0&&Se(z+O*3.6)>0&&(z=z+O*3.6),{size:O,rotation:z}}function N(k){ft[k?"unshift":"push"](()=>{r=k,n(0,r)})}return[r,a,m,v,g,p,l,c,o,u,f,N]}class or extends se{constructor(e){super(),ne(this,e,ir,rr,G,{})}}function cr(t){let e,n,s,r,i,l,c,o,u,f,a,m,v,g;return e=new Ds({}),s=new Fs({}),i=new Bs({}),c=new Gs({}),u=new Ws({}),a=new sr({}),v=new or({}),{c(){re(e.$$.fragment),n=U(),re(s.$$.fragment),r=U(),re(i.$$.fragment),l=U(),re(c.$$.fragment),o=U(),re(u.$$.fragment),f=U(),re(a.$$.fragment),m=U(),re(v.$$.fragment)},m(_,p){x(e,_,p),L(_,n,p),x(s,_,p),L(_,r,p),x(i,_,p),L(_,l,p),x(c,_,p),L(_,o,p),x(u,_,p),L(_,f,p),x(a,_,p),L(_,m,p),x(v,_,p),g=!0},i(_){g||(S(e.$$.fragment,_),S(s.$$.fragment,_),S(i.$$.fragment,_),S(c.$$.fragment,_),S(u.$$.fragment,_),S(a.$$.fragment,_),S(v.$$.fragment,_),g=!0)},o(_){C(e.$$.fragment,_),C(s.$$.fragment,_),C(i.$$.fragment,_),C(c.$$.fragment,_),C(u.$$.fragment,_),C(a.$$.fragment,_),C(v.$$.fragment,_),g=!1},d(_){_&&(I(n),I(r),I(l),I(o),I(f),I(m)),ee(e,_),ee(s,_),ee(i,_),ee(c,_),ee(u,_),ee(a,_),ee(v,_)}}}function mn(t){let e,n;return e=new Ns({}),{c(){re(e.$$.fragment)},m(s,r){x(e,s,r),n=!0},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){C(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function ur(t){let e,n,s,r;e=new hs({props:{$$slots:{default:[cr]},$$scope:{ctx:t}}});let i=t[0]&&mn();return{c(){re(e.$$.fragment),n=U(),i&&i.c(),s=$()},m(l,c){x(e,l,c),L(l,n,c),i&&i.m(l,c),L(l,s,c),r=!0},p(l,[c]){const o={};c&2&&(o.$$scope={dirty:c,ctx:l}),e.$set(o),l[0]?i?c&1&&S(i,1):(i=mn(),i.c(),S(i,1),i.m(s.parentNode,s)):i&&(Z(),C(i,1,1,()=>{i=null}),V())},i(l){r||(S(e.$$.fragment,l),S(i),r=!0)},o(l){C(e.$$.fragment,l),C(i),r=!1},d(l){l&&(I(n),I(s)),ee(e,l),i&&i.d(l)}}}function fr(t,e,n){let s;return W(t,En,r=>n(0,s=r)),bt.set({fallbackResourceName:"debug",allowEscapeKey:!0}),ms(),[s]}class ar extends se{constructor(e){super(),ne(this,e,fr,ur,G,{})}}new ar({target:document.getElementById("app")});
