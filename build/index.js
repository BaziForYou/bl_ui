var bn=Object.defineProperty;var yn=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Je=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function P(){}const Ye=t=>t;function De(t,e){for(const n in e)t[n]=e[n];return t}function rn(t){return t()}function mt(){return Object.create(null)}function te(t){t.forEach(rn)}function Ue(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function wn(t){return Object.keys(t).length===0}function Ge(t,...e){if(t==null){for(const r of e)r(void 0);return P}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ee(t){let e;return Ge(t,n=>e=n)(),e}function G(t,e,n){t.$$.on_destroy.push(Ge(e,n))}function vn(t,e,n,r){if(t){const s=sn(t,e,n,r);return t[0](s)}}function sn(t,e,n,r){return t[1]&&r?De(n.ctx.slice(),t[1](r(e))):n.ctx}function kn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(e.dirty.length,s.length);for(let c=0;c<l;c+=1)i[c]=e.dirty[c]|s[c];return i}return e.dirty|s}return e.dirty}function Sn(t,e,n,r,s,i){if(s){const l=sn(e,n,r,i);t.p(l,s)}}function En(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function In(t,e,n){return t.set(n),e}const ln=typeof window<"u";let je=ln?()=>window.performance.now():()=>Date.now(),ut=ln?t=>requestAnimationFrame(t):P;const ve=new Set;function on(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&ut(on)}function Xe(t){let e;return ve.size===0&&ut(on),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function E(t,e){t.appendChild(e)}function cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function An(t){const e=M("style");return e.textContent="/* empty */",Nn(cn(t),e),e.sheet}function Nn(t,e){return E(t.head||t,e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function U(){return q(" ")}function Y(){return q("")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ln(t){return t===""?null:+t}function Cn(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function ze(t,e){t.value=e??""}function K(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Mn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const $e=new Map;let Be=0;function Tn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Dn(t,e){const n={stylesheet:An(e),rules:{}};return $e.set(t,n),n}function Ze(t,e,n,r,s,i,l,c=0){const o=16.666/r;let u=`{
`;for(let h=0;h<=1;h+=o){const b=e+(n-e)*i(h);u+=h*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,a=`__svelte_${Tn(f)}_${c}`,_=cn(t),{stylesheet:p,rules:m}=$e.get(_)||Dn(_,t);m[a]||(m[a]=!0,p.insertRule(`@keyframes ${a} ${f}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${a} ${r}ms linear ${s}ms 1 both`,Be+=1,a}function Ve(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Be-=s,Be||Kn())}function Kn(){ut(()=>{Be||($e.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),$e.clear())})}let Ke;function Me(t){Ke=t}function un(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function He(t){un().$$.on_mount.push(t)}function Rn(t){un().$$.on_destroy.push(t)}const be=[],pt=[];let ke=[];const gt=[],Un=Promise.resolve();let lt=!1;function On(){lt||(lt=!0,Un.then(fn))}function $(t){ke.push(t)}const Qe=new Set;let ge=0;function fn(){if(ge!==0)return;const t=Ke;do{try{for(;ge<be.length;){const e=be[ge];ge++,Me(e),Fn(e.$$)}}catch(e){throw be.length=0,ge=0,e}for(Me(null),be.length=0,ge=0;pt.length;)pt.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];Qe.has(n)||(Qe.add(n),n())}ke.length=0}while(be.length);for(;gt.length;)gt.pop()();lt=!1,Qe.clear(),Me(t)}function Fn(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}function Pn(t){const e=[],n=[];ke.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ke=e}let Ce;function ft(){return Ce||(Ce=Promise.resolve(),Ce.then(()=>{Ce=null})),Ce}function de(t,e,n){t.dispatchEvent(Mn(`${e?"intro":"outro"}${n}`))}const Pe=new Set;let le;function B(){le={r:0,c:[],p:le}}function Z(){le.r||te(le.c),le=le.p}function k(t,e){t&&t.i&&(Pe.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(Pe.has(t))return;Pe.add(t),le.c.push(()=>{Pe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const at={duration:0};function zn(t,e,n){const r={direction:"in"};let s=e(t,n,r),i=!1,l,c,o=0;function u(){l&&Ve(t,l)}function f(){const{delay:_=0,duration:p=300,easing:m=Ye,tick:y=P,css:h}=s||at;h&&(l=Ze(t,0,1,p,_,m,h,o++)),y(0,1);const b=je()+_,w=b+p;c&&c.abort(),i=!0,$(()=>de(t,!0,"start")),c=Xe(S=>{if(i){if(S>=w)return y(1,0),de(t,!0,"end"),u(),i=!1;if(S>=b){const g=m((S-b)/p);y(g,1-g)}}return i})}let a=!1;return{start(){a||(a=!0,Ve(t),Ue(s)?(s=s(r),ft().then(f)):f())},invalidate(){a=!1},end(){i&&(u(),i=!1)}}}function $n(t,e,n){const r={direction:"out"};let s=e(t,n,r),i=!0,l;const c=le;c.r+=1;let o;function u(){const{delay:f=0,duration:a=300,easing:_=Ye,tick:p=P,css:m}=s||at;m&&(l=Ze(t,1,0,a,f,_,m));const y=je()+f,h=y+a;$(()=>de(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),Xe(b=>{if(i){if(b>=h)return p(0,1),de(t,!1,"end"),--c.r||te(c.c),!1;if(b>=y){const w=_((b-y)/a);p(1-w,w)}}return i})}return Ue(s)?ft().then(()=>{s=s(r),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=o),f&&s.tick&&s.tick(1,0),i&&(l&&Ve(t,l),i=!1)}}}function F(t,e,n,r){let i=e(t,n,{direction:"both"}),l=r?0:1,c=null,o=null,u=null,f;function a(){u&&Ve(t,u)}function _(m,y){const h=m.b-l;return y*=Math.abs(h),{a:l,b:m.b,d:h,duration:y,start:m.start,end:m.start+y,group:m.group}}function p(m){const{delay:y=0,duration:h=300,easing:b=Ye,tick:w=P,css:S}=i||at,g={start:je()+y,b:m};m||(g.group=le,le.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),c||o?o=g:(S&&(a(),u=Ze(t,l,m,h,y,b,S)),m&&w(0,1),c=_(g,h),$(()=>de(t,m,"start")),Xe(v=>{if(o&&v>o.start&&(c=_(o,h),o=null,de(t,c.b,"start"),S&&(a(),u=Ze(t,l,c.b,c.duration,0,b,i.css))),c){if(v>=c.end)w(l=c.b,1-l),de(t,c.b,"end"),o||(c.b?a():--c.group.r||te(c.group.c)),c=null;else if(v>=c.start){const I=v-c.start;l=c.a+c.d*b(I/c.duration),w(l,1-l)}}return!!(c||o)}))}return{run(m){Ue(i)?ft().then(()=>{i=i({direction:m?"in":"out"}),p(m)}):p(m)},end(){a(),c=o=null}}}function H(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function an(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const l=t[i],c=e[i];if(c){for(const o in l)o in c||(r[o]=1);for(const o in c)s[o]||(n[o]=c[o],s[o]=1);t[i]=c}else for(const o in l)s[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function dn(t){return typeof t=="object"&&t!==null?t:{}}function se(t){t&&t.c()}function W(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),$(()=>{const i=t.$$.on_mount.map(rn).filter(Ue);t.$$.on_destroy?t.$$.on_destroy.push(...i):te(i),t.$$.on_mount=[]}),s.forEach($)}function J(t,e){const n=t.$$;n.fragment!==null&&(Pn(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(be.push(t),On(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,r,s,i,l,c=[-1]){const o=Ke;Me(t);const u=t.$$={fragment:null,ctx:[],props:i,update:P,not_equal:s,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:mt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(a,_,...p)=>{const m=p.length?p[0]:_;return u.ctx&&s(u.ctx[a],u.ctx[a]=m)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](m),f&&Bn(t,a)),_}):[],u.update(),f=!0,te(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const a=Cn(e.target);u.fragment&&u.fragment.l(a),a.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&k(t.$$.fragment),W(t,e.target,e.anchor),fn()}Me(o)}class re{constructor(){Je(this,"$$");Je(this,"$$set")}$destroy(){J(this,1),this.$destroy=P}$on(e,n){if(!Ue(n))return P;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zn);const he=[];function Ae(t,e=P){let n;const r=new Set;function s(c){if(V(t,c)&&(t=c,n)){const o=!he.length;for(const u of r)u[1](),he.push(u,t);if(o){for(let u=0;u<he.length;u+=2)he[u][0](he[u+1]);he.length=0}}}function i(c){s(c(t))}function l(c,o=P){const u=[c,o];return r.add(u),r.size===1&&(n=e(s,i)||P),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}const dt=Ae({fallbackResourceName:"debug",allowEscapeKey:!0}),Vn=Ae(window.GetParentResourceName?window.GetParentResourceName():Ee(dt).DEBUG_RESOURCE_NAME),_n=Ae(!window.invokeNative),ht=Ae(!1);var j=(t=>(t.visible="ui:visible",t.start="ui:start",t))(j||{}),_t=(t=>(t.close="ui:close",t.finish="ui:finish",t))(_t||{}),_e=(t=>(t.down="keydown",t.up="keyup",t.pressed="keypress",t))(_e||{}),mn=(t=>(t.click="click",t.down="mousedown",t.up="mouseup",t.move="mousemove",t))(mn||{});const qe=Ee(_n),Yn=Ee(Vn),it=[];async function Gn(t,e={}){if(qe==!0){const s=await Xn(t,e);return Promise.resolve(s)}const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};return await(await fetch(`https://${Yn}/${t}`,n)).json()}function pn(t,e){const n=r=>{const{action:s,data:i}=r.data;s===t&&e(i)};He(()=>window.addEventListener("message",n)),Rn(()=>window.removeEventListener("message",n))}async function ue(t,e,n=0){qe&&setTimeout(()=>{const r=new MessageEvent("message",{data:{action:t,data:e}});window.dispatchEvent(r)},n)}async function jn(t,e){if(qe){if(it[t]!==void 0){console.log(`%c[DEBUG] %c${t} %cevent already has a debug receiver.`,"color: red; font-weight: bold;","color: green","");return}it[t]=e}}async function Xn(t,e){if(!qe)return;const n=it[t];return n===void 0?(console.log(`[DEBUG] ${t} event does not have a debugger.`),{}):await n(e)}const Hn=()=>{const t=Ae({active:!1});return{...t,...{start:n=>{let{type:r,iterations:s,config:i}=n;s=s||1,t.update(l=>({active:!0,type:r,iterations:s,config:i}))},finish:(n=!1)=>{t.update(r=>(Gn(_t.finish,n),{active:!1}))}}}},R=Hn(),qn=[{action:j.visible,handler:t=>{}},{action:j.start,handler:t=>{R.start(t)}}];function Wn(){for(const t of qn)pn(t.action,t.handler)}function bt(t){let e,n;const r=t[2].default,s=vn(r,t,t[1],null);return{c(){e=M("main"),s&&s.c(),d(e,"class","svelte-1w09ye1")},m(i,l){N(i,e,l),s&&s.m(e,null),n=!0},p(i,l){s&&s.p&&(!n||l&2)&&Sn(s,r,i,i[1],n?kn(r,i[1],l,null):En(i[1]),null)},i(i){n||(k(s,i),n=!0)},o(i){C(s,i),n=!1},d(i){i&&A(e),s&&s.d(i)}}}function Jn(t){let e,n,r=t[0]&&bt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),N(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=bt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(B(),C(r,1,1,()=>{r=null}),Z())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Qn(t,e,n){let r,s,i;G(t,R,o=>n(3,r=o)),G(t,ht,o=>n(0,s=o)),G(t,dt,o=>n(4,i=o));let{$$slots:l={},$$scope:c}=e;return pn(j.visible,o=>{In(ht,s=o,s)}),He(()=>{if(!i.allowEscapeKey)return;const o=u=>{s&&["Escape"].includes(u.code)&&r.active&&R.finish(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),t.$$set=o=>{"$$scope"in o&&n(1,c=o.$$scope)},[s,c,l]}class xn extends re{constructor(e){super(),ne(this,e,Qn,Jn,V,{})}}function ot(t){ue(j.visible,t)}const er=[{label:"Visible",action:()=>ot(!0),delay:500}];function tr(){for(const t of er)setTimeout(()=>{t.action()},t.delay||0)}const nr=[{action:_t.close,handler:()=>{}}];function rr(){for(const t of nr)jn(t.action,t.handler)}var X=(t=>(t.CircleProgress="CircleProgress",t.Progress="Progress",t.KeyCircle="KeyCircle",t.KeySpam="KeySpam",t.NumberSlide="NumberSlide",t.MouseClick="MouseClick",t))(X||{});const Fe=[{label:"Visibility",actions:[{label:"True",action:()=>ot(!0)},{label:"False",action:()=>ot(!1)}]},{label:"CircleProgress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ue(j.start,{type:X.CircleProgress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"Progress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ue(j.start,{type:X.Progress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"KeyCircle",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:2};ue(j.start,{type:X.KeyCircle,iterations:1,config:e})},value:50,type:"slider"}]},{label:"KeySpam",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ue(j.start,{type:X.KeySpam,iterations:1,config:e})},value:50,type:"slider"}]},{label:"NumberSlide",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ue(j.start,{type:X.NumberSlide,iterations:1,config:e})},value:50,type:"slider"}]},{label:"MouseClick",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ue(j.start,{type:X.MouseClick,iterations:1,config:e})},value:50,type:"slider"}]}];function yt(t,e,n){const r=t.slice();return r[12]=e[n].label,r[13]=e[n].actions,r}function wt(t,e,n){const r=t.slice();return r[16]=e[n],r[17]=e,r[18]=n,r}function vt(t){let e,n=H(t[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=St(yt(t,n,s));return{c(){e=M("ol");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"class","flex flex-col gap-2 bg-primary z-[9999999] max-w-[25vw] h-full px-[0.5vw] py-[0.5vw]")},m(s,i){N(s,e,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(s,i){if(i&1){n=H(s[0]);let l;for(l=0;l<n.length;l+=1){const c=yt(s,n,l);r[l]?r[l].p(c,i):(r[l]=St(c),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function sr(t){let e,n=t[16].label+"",r,s,i;function l(){return t[11](t[16])}return{c(){e=M("button"),r=q(n),d(e,"class","w-full px-[0.5vw] py-[0.25vw] bg-accent")},m(c,o){N(c,e,o),E(e,r),s||(i=ee(e,"click",l),s=!0)},p(c,o){t=c,o&1&&n!==(n=t[16].label+"")&&ie(r,n)},d(c){c&&A(e),s=!1,i()}}}function lr(t){let e,n,r=t[16].label+"",s,i,l,c,o,u,f,a,_,p;function m(){t[9].call(l,t[17],t[18])}function y(){return t[10](t[16])}return{c(){e=M("span"),n=M("p"),s=q(r),i=U(),l=M("input"),f=U(),a=M("button"),a.textContent="Action",d(l,"type","range"),d(l,"class","w-full"),d(l,"min",c=t[16].min||0),d(l,"max",o=t[16].max||100),d(l,"step",u=t[16].step||1),d(a,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-accent border-primary border-2"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(h,b){N(h,e,b),E(e,n),E(n,s),E(e,i),E(e,l),ze(l,t[16].value),E(e,f),E(e,a),_||(p=[ee(l,"change",m),ee(l,"input",m),ee(a,"click",y)],_=!0)},p(h,b){t=h,b&1&&r!==(r=t[16].label+"")&&ie(s,r),b&1&&c!==(c=t[16].min||0)&&d(l,"min",c),b&1&&o!==(o=t[16].max||100)&&d(l,"max",o),b&1&&u!==(u=t[16].step||1)&&d(l,"step",u),b&1&&ze(l,t[16].value)},d(h){h&&A(e),_=!1,te(p)}}}function ir(t){let e,n,r=t[16].label+"",s,i,l,c,o;function u(){t[7].call(l,t[17],t[18])}function f(...a){return t[8](t[16],...a)}return{c(){e=M("span"),n=M("p"),s=q(r),i=U(),l=M("input"),d(l,"type","checkbox"),d(l,"class","h-full aspect-square"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-row gap-[0.2vw] bg-accent items-center")},m(a,_){N(a,e,_),E(e,n),E(n,s),E(e,i),E(e,l),l.checked=t[16].value,c||(o=[ee(l,"change",u),ee(l,"input",f)],c=!0)},p(a,_){t=a,_&1&&r!==(r=t[16].label+"")&&ie(s,r),_&1&&(l.checked=t[16].value)},d(a){a&&A(e),c=!1,te(o)}}}function or(t){let e,n,r=t[16].label+"",s,i,l,c,o,u,f;function a(){t[5].call(l,t[17],t[18])}function _(){return t[6](t[16])}return{c(){e=M("span"),n=M("p"),s=q(r),i=U(),l=M("input"),c=U(),o=M("button"),o.textContent="Apply",d(n,"class",""),d(l,"type","text"),d(l,"class","h-full w-full text-[color:var(--text-secondary)] px-[0.25vw]"),d(o,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-primary"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(p,m){N(p,e,m),E(e,n),E(n,s),E(e,i),E(e,l),ze(l,t[16].value),E(e,c),E(e,o),u||(f=[ee(l,"input",a),ee(o,"click",_)],u=!0)},p(p,m){t=p,m&1&&r!==(r=t[16].label+"")&&ie(s,r),m&1&&l.value!==t[16].value&&ze(l,t[16].value)},d(p){p&&A(e),u=!1,te(f)}}}function kt(t){let e;function n(i,l){return i[16].type==="text"?or:i[16].type==="checkbox"?ir:i[16].type==="slider"?lr:sr}let r=n(t),s=r(t);return{c(){e=M("div"),s.c(),d(e,"class","flex flex-row flex-wrap gap-[0.5vw]")},m(i,l){N(i,e,l),s.m(e,null)},p(i,l){r===(r=n(i))&&s?s.p(i,l):(s.d(1),s=r(i),s&&(s.c(),s.m(e,null)))},d(i){i&&A(e),s.d()}}}function St(t){let e,n,r=t[12]+"",s,i,l,c=H(t[13]),o=[];for(let u=0;u<c.length;u+=1)o[u]=kt(wt(t,c,u));return{c(){e=M("li"),n=M("span"),s=q(r),i=U();for(let u=0;u<o.length;u+=1)o[u].c();l=U(),d(n,"class","w-full text-black"),d(e,"class","flex flex-col gap-1 border-l-[2px] border-[color:var(--accent)] px-[0.25vw]")},m(u,f){N(u,e,f),E(e,n),E(n,s),E(e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);E(e,l)},p(u,f){if(f&1&&r!==(r=u[12]+"")&&ie(s,r),f&1){c=H(u[13]);let a;for(a=0;a<c.length;a+=1){const _=wt(u,c,a);o[a]?o[a].p(_,f):(o[a]=kt(_),o[a].c(),o[a].m(e,l))}for(;a<o.length;a+=1)o[a].d(1);o.length=c.length}},d(u){u&&A(e),Ie(o,u)}}}function cr(t){let e,n,r,s,i,l,c,o=t[1]&&vt(t);return{c(){e=M("div"),n=M("button"),n.textContent="Debug",r=U(),o&&o.c(),s=U(),i=M("div"),d(n,"class","px-[1vw] py-[0.5vw] w-fit h-fit z-[9999999] bg-accent"),K(i,"background-image","url('https://cdn.discordapp.com/attachments/1068663854143389788/1074878298498281554/HUD_-_Target_Menu.png')"),d(i,"class","absolute w-screen bg-cover bg-no-repeat bg-center h-screen top-0 left-0 dev-image"),d(e,"class","w-fit h-fit flex flex-col z-[9999999]")},m(u,f){N(u,e,f),E(e,n),E(e,r),o&&o.m(e,null),E(e,s),E(e,i),l||(c=[ee(window,"keydown",t[2]),ee(window,"keyup",t[3]),ee(n,"click",t[4])],l=!0)},p(u,[f]){u[1]?o?o.p(u,f):(o=vt(u),o.c(),o.m(e,s)):o&&(o.d(1),o=null)},i:P,o:P,d(u){u&&A(e),o&&o.d(),l=!1,te(c)}}}function ur(t,e,n){He(()=>{tr(),rr()});function r(m){ue(j.keydown,m)}function s(m){ue(j.keyup,m)}let i=!1;const l=()=>n(1,i=!i);function c(m,y){m[y].value=this.value,n(0,Fe)}const o=m=>{m.action(m.value)};function u(m,y){m[y].value=this.checked,n(0,Fe)}const f=(m,y)=>{m.action(m.value)};function a(m,y){m[y].value=Ln(this.value),n(0,Fe)}return[Fe,i,r,s,l,c,o,u,f,a,m=>{m.action(m.value)},m=>{m.action()}]}class fr extends re{constructor(e){super(),ne(this,e,ur,cr,V,{})}}async function Ne(t){return new Promise(e=>setTimeout(e,t))}function Et(t){return Object.prototype.toString.call(t)==="[object Date]"}function ar(t){const e=t-1;return e*e*e+1}function ct(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,i)=>ct(t[i],s));return s=>r.map(i=>i(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Et(t)&&Et(e)){t=t.getTime(),e=e.getTime();const i=e-t;return l=>new Date(t+l*i)}const r=Object.keys(e),s={};return r.forEach(i=>{s[i]=ct(t[i],e[i])}),i=>{const l={};return r.forEach(c=>{l[c]=s[c](i)}),l}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Le(t,e={}){const n=Ae(t);let r,s=t;function i(l,c){if(t==null)return n.set(t=l),Promise.resolve();s=l;let o=r,u=!1,{delay:f=0,duration:a=400,easing:_=Ye,interpolate:p=ct}=De(De({},e),c);if(a===0)return o&&(o.abort(),o=null),n.set(t=s),Promise.resolve();const m=je()+f;let y;return r=Xe(h=>{if(h<m)return!0;u||(y=p(t,l),typeof a=="function"&&(a=a(t,l)),u=!0),o&&(o.abort(),o=null);const b=h-m;return b>a?(n.set(t=l),!1):(n.set(t=y(_(b/a))),!0)}),r.promise}return{set:i,update:(l,c)=>i(l(s,t),c),subscribe:n.subscribe}}function O(t,{delay:e=0,duration:n=400,easing:r=ar,start:s=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,o=l.transform==="none"?"":l.transform,u=1-s,f=c*(1-i);return{delay:e,duration:n,easing:r,css:(a,_)=>`
			transform: ${o} scale(${1-u*_});
			opacity: ${c-f*_}
		`}}const Se={DURATION:{MIN:500,MAX:3e3},SIZE:{MIN:2,MAX:40},FALLBACK_DIFFICULTY:50},xe={DURATION:{MIN:250,MAX:1500},FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},It={DURATION:{MIN:750,MAX:5e3},FALLBACK_DIFFICULTY:50},ae={DURATION:{MIN:500,MAX:7500},ZONE_SIZE:15,FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},ye={DURATION:{MIN:500,MAX:3e3},ZONE:{MIN:5,MAX:40},ZONE_FROM_RIGHT:95,FALLBACK_DIFFICULTY:50,FALLBACK_NUM_LINES:3},Oe={Primary:"E",Secondary:"Q",Numbers:["1","2","3","4"],PrimarySet:["W","A","S","D"],SecondarySet:["I","J","K","L"]};function Q(t){const e=Oe[t];return e[Math.floor(Math.random()*e.length)]}function me(t,e){function n(){window.removeEventListener(t,e)}return window.addEventListener(t,e),{removeListener:n}}function et(t){const e=t.slice(),n=e[1].target;return e[17]=n.size,e[18]=n.rotation,e}function At(t){let e,n,r=t[1].target,s,i,l,c,o=Nt(t),u=t[1]&&Lt(et(t));return{c(){e=M("div"),n=M("div"),o.c(),s=U(),i=x("svg"),u&&u.c(),d(n,"style",t[7]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full"),d(i,"style",t[6]),d(i,"version","1.1"),d(i,"class","z-0 absolute overflow-visible"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){N(f,e,a),E(e,n),o.m(n,null),E(e,s),E(e,i),u&&u.m(i,null),c=!0},p(f,a){a&2&&V(r,r=f[1].target)?(B(),C(o,1,1,P),Z(),o=Nt(f),o.c(),k(o,1),o.m(n,null)):o.p(f,a),f[1]?u?u.p(et(f),a):(u=Lt(et(f)),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){c||(k(o),f&&$(()=>{c&&(l||(l=F(e,O,{},!0)),l.run(1))}),c=!0)},o(f){C(o),f&&(l||(l=F(e,O,{},!1)),l.run(0)),c=!1},d(f){f&&A(e),o.d(f),u&&u.d(),f&&l&&l.end()}}}function Nt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=M("p"),r=q(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){N(l,e,c),E(e,r),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&ie(r,n)},i(l){i||(l&&$(()=>{i&&(s||(s=F(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=F(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Lt(t){let e,n,r,s,i;return{c(){e=x("circle"),n=x("circle"),s=x("circle"),K(e,"stroke-width",we*.1+"vw"),d(e,"class","absolute fill-none stroke-primary-50"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",we*.95+"vw"),K(n,"transform","rotate("+(-90+t[18])+"deg)"),d(n,"class","absolute radial stroke-primary origin-center target-segment svelte-1s27jpb"),d(n,"stroke-dasharray",t[5]+"vw"),d(n,"stroke-dashoffset",r=t[5]*((100-t[17])/100)+"vw"),d(n,"stroke-width",Ct+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",we*.9+"vw"),K(s,"transform","rotate("+(-90+t[3]/100*360)+"deg)"),d(s,"class",i="absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success stroke-success":t[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(s,"stroke-dasharray",t[5]+"vw"),d(s,"stroke-dashoffset",t[5]*((100-gn)/100)+"vw"),d(s,"stroke-width",Ct+"vw"),d(s,"fill-opacity","0"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",we*.9+"vw")},m(l,c){N(l,e,c),N(l,n,c),N(l,s,c)},p(l,c){c&2&&K(n,"transform","rotate("+(-90+l[18])+"deg)"),c&2&&r!==(r=l[5]*((100-l[17])/100)+"vw")&&d(n,"stroke-dashoffset",r),c&8&&K(s,"transform","rotate("+(-90+l[3]/100*360)+"deg)"),c&4&&i!==(i="absolute origin-center default-colour-transition "+(l[2]==="success"?"glow-success stroke-success":l[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(s,"class",i)},d(l){l&&(A(e),A(n),A(s))}}}function dr(t){let e,n=t[0]&&At(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),N(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=At(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(B(),C(n,1,1,()=>{n=null}),Z())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const gn=2,Ct=1,we=4;function _r(t,e,n){let r,s;G(t,R,g=>n(9,r=g));const i=Le(0);G(t,i,g=>n(3,s=g));const l=we*2,c=2*Math.PI*we,o=`
        width: ${l}vw;
        height: ${l}vw;
    `,u=`
        width: ${l/2}vw;
        height: ${l/2}vw;
    `;let f=!1,a=null,_=null,p;R.subscribe(g=>{let v=g.active&&g.type===X.CircleProgress&&!a;v?(n(0,f=!0),b()):f&&!v&&(n(0,f=!1),n(1,a=null),n(2,_=null),m())});function m(){p==null||p.removeListener(),p=null}async function y(){if(!f)return;const g=a.duration;return i.set(100,{duration:g}),new Promise((v,I)=>{let L=setTimeout(()=>{v(!1)},g);p=me(_e.pressed,T=>{const D=T.key.toUpperCase();if(Oe.Numbers.includes(D))if(clearTimeout(L),i.set(s,{duration:0}),D===a.key){const z=s/100*360,oe=a.target.rotation,fe=a.target.size*3.6,ce=gn*3.6;if(z>oe-ce&&z<fe+oe)v(!0);else{v(!1);return}}else v(!1)})})}async function h(g,v){if(!f)return;m(),i.set(0,{duration:0});let{difficulty:I}=v;I=(I||Se.FALLBACK_DIFFICULTY)>=100?99:I<=0?5:I,n(1,a={target:S(I),duration:w(I),key:Q("Numbers")}),n(2,_=null),await Ne(500);const L=await y();n(2,_=L?"success":"fail"),setTimeout(()=>{if(f)if(L&&g>0)if(g--,g>0)h(g,v);else{R.finish(!0),n(1,a=null);return}else{R.finish(!1),n(1,a=null);return}},500)}function b(){if(!r.active||a)return;const{iterations:g,config:v}=r;h(g,v)}function w(g){const{MIN:v,MAX:I}=Se.DURATION;let L=v+(I-v)*((100-g)/100);const T=L*.2,D=Math.random()*T;return L+=D,L}function S(g){g=g>=100?99:g<=0?5:g;const{MAX:v}=Se.SIZE,I=v-g/100*v;let L=90+Math.random()*120;return I*3.6+L>360&&(L-=I*3.6+L-360),{size:I,rotation:L}}return[f,a,_,s,i,c,o,u]}class mr extends re{constructor(e){super(),ne(this,e,_r,dr,V,{})}}function tt(t){const e=t.slice(),n=e[1].target;return e[13]=n.size,e[14]=n.progress,e}function Mt(t){let e,n,r=t[1].target,s,i,l,c,o,u,f=Tt(t),a=t[1]&&Dt(tt(t));return{c(){e=M("div"),n=M("div"),f.c(),s=U(),i=M("div"),c=U(),a&&a.c(),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),K(i,"left",t[3]+"%"),K(i,"width",hn+"vw"),d(i,"class",l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success bg-success":t[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50")},m(_,p){N(_,e,p),E(e,n),f.m(n,null),E(e,s),E(e,i),E(e,c),a&&a.m(e,null),u=!0},p(_,p){p&2&&V(r,r=_[1].target)?(B(),C(f,1,1,P),Z(),f=Tt(_),f.c(),k(f,1),f.m(n,null)):f.p(_,p),(!u||p&8)&&K(i,"left",_[3]+"%"),(!u||p&4&&l!==(l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(_[2]==="success"?"glow-success bg-success":_[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")))&&d(i,"class",l),_[1]?a?a.p(tt(_),p):(a=Dt(tt(_)),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(_){u||(k(f),_&&$(()=>{u&&(o||(o=F(e,O,{},!0)),o.run(1))}),u=!0)},o(_){C(f),_&&(o||(o=F(e,O,{},!1)),o.run(0)),u=!1},d(_){_&&A(e),f.d(_),a&&a.d(),_&&o&&o.end()}}}function Tt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=M("p"),r=q(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){N(l,e,c),E(e,r),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&ie(r,n)},i(l){i||(l&&$(()=>{i&&(s||(s=F(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=F(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Dt(t){let e;return{c(){e=M("div"),K(e,"left",t[14]+"%"),K(e,"width",t[13]+"%"),d(e,"class","h-[1vw] center-y absolute origin-center bg-primary z-0 target-segment svelte-1s27jpb")},m(n,r){N(n,e,r)},p(n,r){r&2&&K(e,"left",n[14]+"%"),r&2&&K(e,"width",n[13]+"%")},d(n){n&&A(e)}}}function pr(t){let e,n=t[0]&&Mt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),N(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=Mt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(B(),C(n,1,1,()=>{n=null}),Z())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const hn=.5;function gr(t,e,n){let r,s;G(t,R,h=>n(6,r=h));const i=Le(0);G(t,i,h=>n(3,s=h));let l=!1,c=null,o=null,u;R.subscribe(h=>{let b=h.active&&h.type===X.Progress&&!c;b?(n(0,l=!0),p()):l&&!b&&(n(0,l=!1),n(1,c=null),f())});function f(){u==null||u.removeListener(),u=null}async function a(){if(!l)return;const h=c.duration;return i.set(100,{duration:h}),new Promise((b,w)=>{let S=setTimeout(()=>{b(!1)},h);u=me(_e.pressed,g=>{const v=g.key.toUpperCase();if(Oe.Numbers.includes(v))if(clearTimeout(S),i.set(s,{duration:0}),v===c.key){const I=c.target.progress,L=c.target.size,T=s;if(T>I-hn&&T<L+I)b(!0);else{b(!1);return}}else b(!1)})})}async function _(h,b){if(!l)return;f(),i.set(0,{duration:0});let{difficulty:w}=b;w=(w||Se.FALLBACK_DIFFICULTY)>=100?99:w<=0?5:w,n(1,c={target:y(w),duration:m(w),key:Q("Numbers")}),await Ne(500);const S=await a();n(2,o=S?"success":"fail"),setTimeout(()=>{if(l)if(n(2,o=null),S&&h>0)if(h--,h>0)_(h,b);else{R.finish(!0),n(1,c=null);return}else{R.finish(!1),n(1,c=null);return}},500)}function p(){if(!r.active||c)return;const{iterations:h,config:b}=r;_(h,b)}function m(h){const{MIN:b,MAX:w}=Se.DURATION;let S=b+(w-b)*((100-h)/100);const g=S*.2,v=Math.random()*g;return S+=v,S}function y(h){h=h>=100?99:h<=0?5:h;const{MAX:b}=Se.SIZE,w=b-h/100*b,S=30,g=100-w,v=Math.random()*(g-S)+S;return{size:w,progress:v}}return[l,c,o,s,i]}class hr extends re{constructor(e){super(),ne(this,e,gr,pr,V,{})}}function Kt(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function nt(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e[18]=n.currentStage,e}function rt(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e}function Rt(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ut(t){let e,n,r,s,i,l,c,o=t[1]&&Ot(t),u=t[1]&&zt(rt(t)),f=t[1]&&$t(nt(t));return{c(){e=M("div"),o&&o.c(),n=U(),r=x("svg"),s=x("circle"),u&&u.c(),i=U(),f&&f.c(),K(s,"stroke-width",Re*.1+"vw"),d(s,"class","absolute fill-none stroke-primary-50"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",Re*.95+"vw"),d(r,"style",t[6]),d(r,"version","1.1"),d(r,"class","z-0 absolute overflow-visible -rotate-90"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full w-fit h-fit")},m(a,_){N(a,e,_),o&&o.m(e,null),E(e,n),E(e,r),E(r,s),u&&u.m(r,null),E(e,i),f&&f.m(e,null),c=!0},p(a,_){a[1]?o?(o.p(a,_),_&2&&k(o,1)):(o=Ot(a),o.c(),k(o,1),o.m(e,n)):o&&(B(),C(o,1,1,()=>{o=null}),Z()),a[1]?u?u.p(rt(a),_):(u=zt(rt(a)),u.c(),u.m(r,null)):u&&(u.d(1),u=null),a[1]?f?f.p(nt(a),_):(f=$t(nt(a)),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){c||(k(o),a&&$(()=>{c&&(l||(l=F(e,O,{},!0)),l.run(1))}),c=!0)},o(a){C(o),a&&(l||(l=F(e,O,{},!1)),l.run(0)),c=!1},d(a){a&&A(e),o&&o.d(),u&&u.d(),f&&f.d(),a&&l&&l.end()}}}function Ot(t){let e=t[1].keys,n,r,s=Pt(t);return{c(){s.c(),n=Y()},m(i,l){s.m(i,l),N(i,n,l),r=!0},p(i,l){l&2&&V(e,e=i[1].keys)?(B(),C(s,1,1,P),Z(),s=Pt(i),s.c(),k(s,1),s.m(n.parentNode,n)):s.p(i,l)},i(i){r||(k(s),r=!0)},o(i){C(s),r=!1},d(i){i&&A(n),s.d(i)}}}function Ft(t){let e,n,r=t[22]+"",s,i,l,c;return{c(){e=M("div"),n=M("p"),s=q(r),l=U(),d(n,"class","text-shadow absolute font-bold text-[2vw]"),d(e,"style",t[7]),d(e,"class","grid place-items-center secondary-shadow bg-primary-50")},m(o,u){N(o,e,u),E(e,n),E(n,s),E(e,l),c=!0},p(o,u){(!c||u&2)&&r!==(r=o[22]+"")&&ie(s,r)},i(o){c||(o&&$(()=>{c&&(i||(i=F(n,O,{duration:100},!0)),i.run(1))}),c=!0)},o(o){o&&(i||(i=F(n,O,{duration:100},!1)),i.run(0)),c=!1},d(o){o&&A(e),o&&i&&i.end()}}}function Pt(t){var c;let e,n,r,s=H((c=t[1])==null?void 0:c.keys),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ft(Rt(t,s,o));const l=o=>C(i[o],1,1,()=>{i[o]=null});return{c(){e=M("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"class","flex flex-row items-center justify-center absolute")},m(o,u){N(o,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);r=!0},p(o,u){var f;if(u&130){s=H((f=o[1])==null?void 0:f.keys);let a;for(a=0;a<s.length;a+=1){const _=Rt(o,s,a);i[a]?(i[a].p(_,u),k(i[a],1)):(i[a]=Ft(_),i[a].c(),k(i[a],1),i[a].m(e,null))}for(B(),a=s.length;a<i.length;a+=1)l(a);Z()}},i(o){if(!r){for(let u=0;u<s.length;u+=1)k(i[u]);o&&$(()=>{r&&(n||(n=F(e,O,{},!0)),n.run(1))}),r=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)C(i[u]);o&&(n||(n=F(e,O,{},!1)),n.run(0)),r=!1},d(o){o&&A(e),Ie(i,o),o&&n&&n.end()}}}function zt(t){let e,n;return{c(){e=x("circle"),K(e,"transform","rotate("+(1/t[17]*360-90)+"deg)"),d(e,"class","absolute stroke-primary origin-center"),d(e,"stroke-dasharray",t[5]+"vw"),d(e,"stroke-dashoffset",n=t[5]*((100-t[3])/100)+"vw"),d(e,"stroke-width",yr+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Re*.95+"vw")},m(r,s){N(r,e,s)},p(r,s){s&2&&K(e,"transform","rotate("+(1/r[17]*360-90)+"deg)"),s&8&&n!==(n=r[5]*((100-r[3])/100)+"vw")&&d(e,"stroke-dashoffset",n)},d(r){r&&A(e)}}}function $t(t){let e,n=H({length:t[17]}),r=[];for(let s=0;s<n.length;s+=1)r[s]=Bt(Kt(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Y()},m(s,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,i);N(s,e,i)},p(s,i){if(i&70){n=H({length:s[17]});let l;for(l=0;l<n.length;l+=1){const c=Kt(s,n,l);r[l]?r[l].p(c,i):(r[l]=Bt(c),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function Bt(t){let e,n,r,s,i;return{c(){e=M("div"),n=M("div"),s=U(),d(n,"class",r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(t[2]=="fail"?"bg-fail glow-fail":t[18]===t[21]||t[18]===t[17]&&t[21]===0?"bg-accent glow-accent":t[18]>=t[21]&&t[21]!==0||t[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow")),d(e,"style",i="transform: rotate("+((t[21]+1)/t[17]*360-90)+"deg);"+t[6]),d(e,"class","origin-center absolute")},m(l,c){N(l,e,c),E(e,n),E(e,s)},p(l,c){c&6&&r!==(r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(l[2]=="fail"?"bg-fail glow-fail":l[18]===l[21]||l[18]===l[17]&&l[21]===0?"bg-accent glow-accent":l[18]>=l[21]&&l[21]!==0||l[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow"))&&d(n,"class",r),c&2&&i!==(i="transform: rotate("+((l[21]+1)/l[17]*360-90)+"deg);"+l[6])&&d(e,"style",i)},d(l){l&&A(e)}}}function br(t){let e,n,r=t[0]&&Ut(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),N(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=Ut(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(B(),C(r,1,1,()=>{r=null}),Z())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}const yr=.5,Re=5;function wr(t,e,n){let r,s;G(t,R,g=>n(10,r=g));const i=Le(0);G(t,i,g=>n(3,s=g));let l={};const c=Re*2,o=2*Math.PI*Re,u=`
        width: ${c}vw;
        height: ${c}vw;
    `,f=`
        width: ${c/4}vw;
        height: ${c/4}vw;
    `;let a=!1,_=null,p=null,m={Down:null,Up:null};R.subscribe(g=>{let v=g.active&&g.type===X.KeyCircle&&!_;v?(n(0,a=!0),w()):a&&!v&&(n(0,a=!1),n(1,_=null),n(2,p=null),y())});function y(){var g,v;(g=m.Down)==null||g.removeListener(),(v=m.Up)==null||v.removeListener(),m={Down:null,Up:null},l={}}async function h(){if(!a)return;const g=_.duration,{currentStage:v,stages:I,keys:L}=_,T=Math.floor(v/I*100);return i.set(T,{duration:g}),new Promise((D,z)=>{let oe=setTimeout(()=>{D(!1)},g);y(),m.Down=me(_e.down,fe=>{if(!a||(l[fe.key.toUpperCase()]=!0,p))return;const ce=Object.keys(l);if(ce.length===2){clearTimeout(oe),y();const We=ce.includes(L[0]),pe=ce.includes(L[1]);if(i.set(T,{duration:0}),We&&pe){if(n(1,_.currentStage++,_),_.currentStage>_.stages){D(!0);return}n(1,_.keys=[Q("PrimarySet"),Q("SecondarySet")],_),D(h())}else{D(!1);return}}}),m.Up=me(_e.up,fe=>{delete l[fe.key.toUpperCase()]})})}async function b(g,v){if(!a)return;y(),i.set(0,{duration:0});let{difficulty:I,numberOfKeys:L}=v;I=(I||xe.FALLBACK_DIFFICULTY)>=100?99:I<=0?5:I,L=L||xe.FALLBACK_NUM_KEYS,n(1,_={stages:L,currentStage:1,duration:S(I),keys:[Q("PrimarySet"),Q("SecondarySet")]}),n(2,p=null),await Ne(500);const T=await h();n(2,p=T?"success":"fail"),setTimeout(()=>{if(a)if(T&&g>0)if(g--,g>0)b(g,v);else{R.finish(!0),n(1,_=null);return}else{R.finish(!1),n(1,_=null);return}},500)}function w(){if(!r.active||_)return;const{iterations:g,config:v}=r;b(g,v)}function S(g){const{MIN:v,MAX:I}=xe.DURATION;let L=v+(I-v)*((100-g)/100);const T=L*.2,D=Math.random()*T;return L+=D,L}return[a,_,p,s,i,o,u,f]}class vr extends re{constructor(e){super(),ne(this,e,wr,br,V,{})}}function st(t){const e=t.slice(),n=e[1];return e[15]=n.size,e}function Zt(t){let e,n,r,s,i,l,c,o=t[1]&&Vt(t),u=t[1]&&Gt(st(t));return{c(){e=M("div"),n=M("div"),o&&o.c(),r=U(),s=x("svg"),i=x("circle"),u&&u.c(),l=x("circle"),d(n,"class","absolute grid place-items-center z-10"),K(i,"stroke-width",Te*.1+"vw z-0"),d(i,"class","absolute fill-primary-50"),d(i,"cx","50%"),d(i,"cy","50%"),d(i,"r",Te+"vw"),K(l,"transform","rotate(-90deg)"),d(l,"class","absolute radial stroke-primary origin-center target-segment secondary-shadow"),d(l,"stroke-dasharray",t[5]+"vw"),d(l,"stroke-dashoffset",c=t[5]*(-(100-t[3])/100)+"vw"),d(l,"stroke-width",Sr+"vw"),d(l,"fill-opacity","0"),d(l,"cx","50%"),d(l,"cy","50%"),d(l,"r",Te*.95+"vw"),d(s,"style",t[6]),d(s,"version","1.1"),d(s,"class","absolute overflow-visible"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){N(f,e,a),E(e,n),o&&o.m(n,null),E(e,r),E(e,s),E(s,i),u&&u.m(s,null),E(s,l)},p(f,a){f[1]?o?o.p(f,a):(o=Vt(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),f[1]?u?u.p(st(f),a):(u=Gt(st(f)),u.c(),u.m(s,l)):u&&(u.d(1),u=null),a&8&&c!==(c=f[5]*(-(100-f[3])/100)+"vw")&&d(l,"stroke-dashoffset",c)},d(f){f&&A(e),o&&o.d(),u&&u.d()}}}function Vt(t){let e=t[1].key,n,r=Yt(t);return{c(){r.c(),n=Y()},m(s,i){r.m(s,i),N(s,n,i)},p(s,i){i&2&&V(e,e=s[1].key)?(B(),C(r,1,1,P),Z(),r=Yt(s),r.c(),k(r,1),r.m(n.parentNode,n)):r.p(s,i)},d(s){s&&A(n),r.d(s)}}}function Yt(t){let e,n=t[1].key+"",r,s,i,l;return{c(){e=M("p"),r=q(n),d(e,"class",s="text-shadow absolute font-bold text-[2vw] "+(!t[2]&&"animate-scale")+" svelte-zhs4mv")},m(c,o){N(c,e,o),E(e,r),l=!0},p(c,o){(!l||o&2)&&n!==(n=c[1].key+"")&&ie(r,n),(!l||o&4&&s!==(s="text-shadow absolute font-bold text-[2vw] "+(!c[2]&&"animate-scale")+" svelte-zhs4mv"))&&d(e,"class",s)},i(c){l||(c&&$(()=>{l&&(i||(i=F(e,O,{duration:100},!0)),i.run(1))}),l=!0)},o(c){c&&(i||(i=F(e,O,{duration:100},!1)),i.run(0)),l=!1},d(c){c&&A(e),c&&i&&i.end()}}}function Gt(t){let e,n,r;return{c(){e=x("circle"),d(e,"class",n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(t[2]==="success"?"glow-success fill-success":t[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent")),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",r=t[15]/2+"%")},m(s,i){N(s,e,i)},p(s,i){i&4&&n!==(n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(s[2]==="success"?"glow-success fill-success":s[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent"))&&d(e,"class",n),i&2&&r!==(r=s[15]/2+"%")&&d(e,"r",r)},d(s){s&&A(e)}}}function kr(t){let e,n=t[0]&&Zt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),N(r,e,s)},p(r,[s]){r[0]?n?n.p(r,s):(n=Zt(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:P,o:P,d(r){r&&A(e),n&&n.d(r)}}}const Sr=.5,Te=4;function Er(t,e,n){let r,s;G(t,R,w=>n(8,r=w));const i=Le(0);G(t,i,w=>n(3,s=w));const l=Te*2,c=2*Math.PI*Te,o=`
        width: ${l}vw;
        height: ${l}vw;
    `;let u=!1,f=null,a=null,_;R.subscribe(w=>{let S=w.active&&w.type===X.KeySpam&&!f;S?(n(0,u=!0),h()):u&&!S&&(n(0,u=!1),n(1,f=null),n(2,a=null),p())});function p(){_==null||_.removeListener(),_=null}async function m(){if(!u)return;const w=f.duration;return i.set(100,{duration:w}),new Promise((S,g)=>{let v=setInterval(()=>{u&&(n(1,f.size-=.1,f),f.size<=0&&n(1,f.size=0,f))},1),I=setTimeout(()=>{u&&(clearTimeout(I),clearInterval(v),S(!1))},w);_=me(_e.pressed,L=>{const T=L.key.toUpperCase();if(Oe.PrimarySet.includes(T)&&T===f.key){let{size:D}=f;n(1,f.size=D+10,f),f.size>=100&&(n(1,f.size=100,f),clearTimeout(I),clearInterval(v),i.set(s,{duration:0}),S(!0))}})})}async function y(w,S){if(!u)return;p(),i.set(0,{duration:0});let{difficulty:g}=S;g=(g||It.FALLBACK_DIFFICULTY)>=100?99:g<=0?5:g,n(1,f={duration:b(g),key:Q("PrimarySet"),size:0}),n(2,a=null),await Ne(500);const v=await m();p(),n(2,a=v?"success":"fail"),setTimeout(()=>{if(u)if(v&&w>0)if(w--,w>0)y(w,S);else{R.finish(!0),n(1,f=null);return}else{R.finish(!1),n(1,f=null);return}},500)}function h(){if(!r.active||f)return;const{iterations:w,config:S}=r;y(w,S)}function b(w){const{MIN:S,MAX:g}=It.DURATION;let v=S+(g-S)*((100-w)/100);const I=v*.2,L=Math.random()*I;return v+=L,v}return[u,f,a,s,i,c,o]}class Ir extends re{constructor(e){super(),ne(this,e,Er,kr,V,{})}}function jt(t){let e,n,r=(t[5]<t[6]?t[4]:t[0])+"",s,i,l,c;return{c(){e=M("div"),n=M("p"),s=q(r),d(n,"class",i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(t[1]==="success"?"text-success glow-success":t[1]==="fail"?"text-fail glow-fail":t[3]?"text-accent":"text-primary")),K(e,"left",t[5]+"%"),d(e,"class","grid place-items-center absolute")},m(o,u){N(o,e,u),E(e,n),E(n,s),c=!0},p(o,u){(!c||u&49)&&r!==(r=(o[5]<o[6]?o[4]:o[0])+"")&&ie(s,r),(!c||u&10&&i!==(i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(o[1]==="success"?"text-success glow-success":o[1]==="fail"?"text-fail glow-fail":o[3]?"text-accent":"text-primary")))&&d(n,"class",i),(!c||u&32)&&K(e,"left",o[5]+"%")},i(o){c||(o&&$(()=>{c&&(l||(l=F(e,O,{duration:250},!0)),l.run(1))}),c=!0)},o(o){o&&(l||(l=F(e,O,{duration:250},!1)),l.run(0)),c=!1},d(o){o&&A(e),o&&l&&l.end()}}}function Ar(t){let e,n=t[5]>0&&t[5]<100&&jt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),N(r,e,s)},p(r,[s]){r[5]>0&&r[5]<100?n?(n.p(r,s),s&32&&k(n,1)):(n=jt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(B(),C(n,1,1,()=>{n=null}),Z())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}function Nr(t,e,n){let r,s=P,i=()=>(s(),s=Ge(o,m=>n(5,r=m)),o);t.$$.on_destroy.push(()=>s());let{key:l=null}=e,{state:c=null}=e,{left:o=null}=e;i();let{active:u=null}=e,f="1",a=null;function _(){clearInterval(a),a=null}const p=50-ae.ZONE_SIZE*1.5;return He(()=>{n(4,f=Q("Numbers")),a=setInterval(()=>{(r>p||c)&&_();let m=Q("Numbers");for(;m===f;)m=Q("Numbers");n(4,f=m)},150)}),t.$$set=m=>{"key"in m&&n(0,l=m.key),"state"in m&&n(1,c=m.state),"left"in m&&i(n(2,o=m.left)),"active"in m&&n(3,u=m.active)},[l,c,o,u,f,r,p]}class Lr extends re{constructor(e){super(),ne(this,e,Nr,Ar,V,{key:0,state:1,left:2,active:3})}}function Xt(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function Ht(t){let e,n,r,s,i,l=t[2]&&qt(t);return{c(){e=M("div"),n=M("div"),r=U(),l&&l.c(),K(n,"width",ae.ZONE_SIZE+"%"),d(n,"class","bg-primary secondary-shadow h-[2.5vw]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center justify-center")},m(c,o){N(c,e,o),E(e,n),E(e,r),l&&l.m(e,null),i=!0},p(c,o){c[2]?l?(l.p(c,o),o&4&&k(l,1)):(l=qt(c),l.c(),k(l,1),l.m(e,null)):l&&(B(),C(l,1,1,()=>{l=null}),Z())},i(c){i||(k(l),c&&$(()=>{i&&(s||(s=F(e,O,{},!0)),s.run(1))}),i=!0)},o(c){C(l),c&&(s||(s=F(e,O,{},!1)),s.run(0)),i=!1},d(c){c&&A(e),l&&l.d(),c&&s&&s.end()}}}function qt(t){let e,n,r=H(t[2].keys),s=[];for(let l=0;l<r.length;l+=1)s[l]=Wt(Xt(t,r,l));const i=l=>C(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Y()},m(l,c){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(l,c);N(l,e,c),n=!0},p(l,c){if(c&5){r=H(l[2].keys);let o;for(o=0;o<r.length;o+=1){const u=Xt(l,r,o);s[o]?(s[o].p(u,c),k(s[o],1)):(s[o]=Wt(u),s[o].c(),k(s[o],1),s[o].m(e.parentNode,e))}for(B(),o=r.length;o<s.length;o+=1)i(o);Z()}},i(l){if(!n){for(let c=0;c<r.length;c+=1)k(s[c]);n=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)C(s[c]);n=!1},d(l){l&&A(e),Ie(s,l)}}}function Wt(t){let e,n;const r=[t[12],{active:t[0]===t[14]}];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Lr({props:s}),{c(){se(e.$$.fragment)},m(i,l){W(e,i,l),n=!0},p(i,l){const c=l&5?an(r,[l&4&&dn(i[12]),l&1&&{active:i[0]===i[14]}]):{};e.$set(c)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Cr(t){let e,n,r=t[1]&&Ht(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),N(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=Ht(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(B(),C(r,1,1,()=>{r=null}),Z())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Mr(t,e,n){let r;G(t,R,y=>n(5,r=y));let s=null,i=!1,l=null,c=null,o;R.subscribe(y=>{let h=y.active&&y.type===X.NumberSlide&&!l;h?(n(1,i=!0),_()):i&&!h&&(n(1,i=!1),n(2,l=null),c=null,u())});function u(){o==null||o.removeListener(),o=null}async function f(){if(i)return n(0,s=null),new Promise((y,h)=>{const{keys:b}=l,{ZONE_SIZE:w}=ae;let S=[];function g(v){S.forEach(I=>I()),S=[],b.forEach((I,L)=>{let{left:T}=I;T.set(Ee(T),{duration:0}),n(2,l.keys[L].state=v?"success":"fail",l)}),y(v)}b.forEach((v,I)=>{let L=l.keys[I];S.push(v.left.subscribe(T=>{T>=50-w/2&&T<=50+w/2?n(0,s=I):T>50+w/2&&L.state!=="success"&&(L.state="fail",n(2,l.keys[I]=L,l),g(!1))}))}),o=me(_e.pressed,v=>{const I=v.key.toUpperCase();if(!Oe.Numbers.includes(I))return;const L=l.keys[s];L||g(!1),I===L.key?(L.state="success",n(2,l.keys[s]=L,l),l.keys.every(D=>D.state==="success")&&g(!0)):g(!1)})})}async function a(y,h){if(!i)return;u();let{difficulty:b,numberOfKeys:w}=h;b=(b||ae.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,w=w||ae.FALLBACK_NUM_KEYS;const S=p(b),g=m(w,S);n(2,l={duration:S,keys:g}),c=null,n(0,s=null),await Ne(500);const v=await f();u(),c=v?"success":"fail",setTimeout(()=>{if(i)if(v&&y>0)if(y--,y>0)a(y,h);else{R.finish(!0),n(2,l=null);return}else{R.finish(!1),n(2,l=null);return}},500)}function _(){if(!r.active||l)return;const{iterations:y,config:h}=r;a(y,h)}function p(y){const{MIN:h,MAX:b}=ae.DURATION;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function m(y,h){const b=ae.ZONE_SIZE,w=h*(b/100),S=[];for(let g=0;g<y;g++){const v={key:Q("Numbers"),left:Le(0,{duration:0}),state:null};setTimeout(()=>{c||v.left.set(100,{duration:h})},w*g),S.push(v)}return S}return[s,i,l]}class Tr extends re{constructor(e){super(),ne(this,e,Mr,Cr,V,{})}}function Jt(t){let e,n,r,s,i;return{c(){e=M("div"),K(e,"left",t[2]+"%"),K(e,"width",Kr+"vw"),d(e,"class",n="grid place-items-center z-10 absolute h-[2.5vw] default-colour-transition "+(t[0]==="success"?"bg-success glow-success":t[0]==="fail"?"bg-fail glow-fail":t[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow"))},m(l,c){N(l,e,c),i=!0},p(l,c){(!i||c&4)&&K(e,"left",l[2]+"%"),(!i||c&1&&n!==(n="grid place-items-center z-10 absolute h-[2.5vw] default-colour-transition "+(l[0]==="success"?"bg-success glow-success":l[0]==="fail"?"bg-fail glow-fail":l[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow")))&&d(e,"class",n)},i(l){i||(l&&$(()=>{i&&(s&&s.end(1),r=zn(e,O,{duration:250}),r.start())}),i=!0)},o(l){r&&r.invalidate(),l&&(s=$n(e,O,{duration:250,delay:250})),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Dr(t){let e,n=t[2]>0&&t[2]<100&&Jt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),N(r,e,s)},p(r,[s]){r[2]>0&&r[2]<100?n?(n.p(r,s),s&4&&k(n,1)):(n=Jt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(B(),C(n,1,1,()=>{n=null}),Z())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const Kr=.5;function Rr(t,e,n){let r,s=P,i=()=>(s(),s=Ge(c,o=>n(2,r=o)),c);t.$$.on_destroy.push(()=>s());let{state:l=null}=e,{left:c=null}=e;return i(),t.$$set=o=>{"state"in o&&n(0,l=o.state),"left"in o&&i(n(1,c=o.left))},[l,c,r]}class Ur extends re{constructor(e){super(),ne(this,e,Rr,Dr,V,{state:0,left:1})}}function Qt(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function xt(t){let e,n,r,s,i,l,c,o=t[0]&&en(t);return{c(){e=M("div"),n=M("div"),r=M("p"),r.textContent="LMB",i=U(),o&&o.c(),d(r,"class","text-shadow absolute font-bold text-[2vw]"),d(n,"class","h-[2.5vw] w-[5vw] absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[120%]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center")},m(u,f){N(u,e,f),E(e,n),E(n,r),E(e,i),o&&o.m(e,null),c=!0},p(u,f){u[0]?o?(o.p(u,f),f&1&&k(o,1)):(o=en(u),o.c(),k(o,1),o.m(e,null)):o&&(B(),C(o,1,1,()=>{o=null}),Z())},i(u){c||(u&&$(()=>{c&&(s||(s=F(r,O,{duration:100},!0)),s.run(1))}),k(o),u&&$(()=>{c&&(l||(l=F(e,O,{},!0)),l.run(1))}),c=!0)},o(u){u&&(s||(s=F(r,O,{duration:100},!1)),s.run(0)),C(o),u&&(l||(l=F(e,O,{},!1)),l.run(0)),c=!1},d(u){u&&A(e),u&&s&&s.end(),o&&o.d(),u&&l&&l.end()}}}function en(t){let e,n,r,s,i=H(t[0].lines),l=[];for(let o=0;o<i.length;o+=1)l[o]=tn(Qt(t,i,o));const c=o=>C(l[o],1,1,()=>{l[o]=null});return{c(){e=M("div"),n=U();for(let o=0;o<l.length;o+=1)l[o].c();r=Y(),K(e,"width",t[0].zone+"%"),K(e,"left",ye.ZONE_FROM_RIGHT+"%"),d(e,"class","bg-primary secondary-shadow h-[2.5vw] z-0 absolute -translate-x-full")},m(o,u){N(o,e,u),N(o,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);N(o,r,u),s=!0},p(o,u){if((!s||u&1)&&K(e,"width",o[0].zone+"%"),u&1){i=H(o[0].lines);let f;for(f=0;f<i.length;f+=1){const a=Qt(o,i,f);l[f]?(l[f].p(a,u),k(l[f],1)):(l[f]=tn(a),l[f].c(),k(l[f],1),l[f].m(r.parentNode,r))}for(B(),f=i.length;f<l.length;f+=1)c(f);Z()}},i(o){if(!s){for(let u=0;u<i.length;u+=1)k(l[u]);s=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);s=!1},d(o){o&&(A(e),A(n),A(r)),Ie(l,o)}}}function tn(t){let e,n;const r=[t[12]];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Ur({props:s}),{c(){se(e.$$.fragment)},m(i,l){W(e,i,l),n=!0},p(i,l){const c=l&1?an(r,[dn(i[12])]):{};e.$set(c)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Or(t){let e,n,r=t[1]&&xt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),N(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=xt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&(B(),C(r,1,1,()=>{r=null}),Z())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Fr(t,e,n){let r;G(t,R,y=>n(4,r=y));let s=null,i=!1,l=null,c;R.subscribe(y=>{let h=y.active&&y.type===X.MouseClick&&!s;h?(n(1,i=!0),a()):i&&!h&&(n(1,i=!1),n(0,s=null),l=null,o())});function o(){c==null||c.removeListener(),c=null}async function u(){if(i)return new Promise((y,h)=>{const{lines:b,zone:w}=s,{ZONE_FROM_RIGHT:S}=ye,g={max:S,min:S-w};let v=[];function I(L){v.forEach(T=>T()),v=[],console.log("clearing",L),b.forEach((T,D)=>{let{left:z}=T;z.set(Ee(z),{duration:0}),n(0,s.lines[D].state=L?"success":"fail",s)}),y(L)}b.forEach((L,T)=>{let D=s.lines[T];v.push(L.left.subscribe(z=>{z>g.min&&z<g.max&&D.state!=="success"?D.state="active":(z==100||z>g.max)&&D.state!=="success"&&(console.log("fail",T,s.lines[T],z,D.state,s.lines[T]),D.state="fail",I(!1)),n(0,s.lines[T]=D,s)}))}),c=me(mn.click,L=>{let T=!1,D=0,z=0;if(b.forEach((oe,fe)=>{let{left:ce,state:We}=oe;if(We==="active"){const pe=Ee(ce);pe>g.min&&pe<g.max&&(T=!0,pe>D&&(z=fe,D=pe))}}),console.log(T,D,z),!T)I(!1);else{const oe=s.lines[z];oe.state="success",n(0,s.lines[z]=oe,s),console.log(z,s.lines[z]),s.lines.every(ce=>ce.state==="success")&&I(!0)}})})}async function f(y,h){if(!i)return;o();let{difficulty:b,numberOfKeys:w}=h;b=(b||ye.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,w=w||ye.FALLBACK_NUM_LINES;const S=p(b),g=m(w,S),v=_(b);n(0,s={duration:S,lines:g,zone:v}),l=null,await Ne(500);const I=await u();o(),l=I?"success":"fail",setTimeout(()=>{if(i)if(I&&y>0)if(y--,y>0)f(y,h);else{R.finish(!0),n(0,s=null);return}else{R.finish(!1),n(0,s=null);return}},500)}function a(){if(!r.active||s)return;const{iterations:y,config:h}=r;f(y,h)}function _(y){const{MIN:h,MAX:b}=ye.ZONE;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function p(y){const{MIN:h,MAX:b}=ye.DURATION;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function m(y,h){const b=[];for(let w=0;w<y;w++){const S=Math.random()*100,v=h*(.2+Math.random()*.6)+(S/100+w*10),I={left:Le(0,{duration:0}),state:null};setTimeout(()=>{l||I.left.set(100,{duration:h})},v*w),b.push(I)}return b}return[s,i]}class Pr extends re{constructor(e){super(),ne(this,e,Fr,Or,V,{})}}function zr(t){let e,n,r,s,i,l,c,o,u,f,a,_;return e=new mr({}),r=new hr({}),i=new vr({}),c=new Ir({}),u=new Tr({}),a=new Pr({}),{c(){se(e.$$.fragment),n=U(),se(r.$$.fragment),s=U(),se(i.$$.fragment),l=U(),se(c.$$.fragment),o=U(),se(u.$$.fragment),f=U(),se(a.$$.fragment)},m(p,m){W(e,p,m),N(p,n,m),W(r,p,m),N(p,s,m),W(i,p,m),N(p,l,m),W(c,p,m),N(p,o,m),W(u,p,m),N(p,f,m),W(a,p,m),_=!0},i(p){_||(k(e.$$.fragment,p),k(r.$$.fragment,p),k(i.$$.fragment,p),k(c.$$.fragment,p),k(u.$$.fragment,p),k(a.$$.fragment,p),_=!0)},o(p){C(e.$$.fragment,p),C(r.$$.fragment,p),C(i.$$.fragment,p),C(c.$$.fragment,p),C(u.$$.fragment,p),C(a.$$.fragment,p),_=!1},d(p){p&&(A(n),A(s),A(l),A(o),A(f)),J(e,p),J(r,p),J(i,p),J(c,p),J(u,p),J(a,p)}}}function nn(t){let e,n;return e=new fr({}),{c(){se(e.$$.fragment)},m(r,s){W(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function $r(t){let e,n,r,s;e=new xn({props:{$$slots:{default:[zr]},$$scope:{ctx:t}}});let i=t[0]&&nn();return{c(){se(e.$$.fragment),n=U(),i&&i.c(),r=Y()},m(l,c){W(e,l,c),N(l,n,c),i&&i.m(l,c),N(l,r,c),s=!0},p(l,[c]){const o={};c&2&&(o.$$scope={dirty:c,ctx:l}),e.$set(o),l[0]?i?c&1&&k(i,1):(i=nn(),i.c(),k(i,1),i.m(r.parentNode,r)):i&&(B(),C(i,1,1,()=>{i=null}),Z())},i(l){s||(k(e.$$.fragment,l),k(i),s=!0)},o(l){C(e.$$.fragment,l),C(i),s=!1},d(l){l&&(A(n),A(r)),J(e,l),i&&i.d(l)}}}function Br(t,e,n){let r;return G(t,_n,s=>n(0,r=s)),dt.set({fallbackResourceName:"debug",allowEscapeKey:!1}),Wn(),[r]}class Zr extends re{constructor(e){super(),ne(this,e,Br,$r,V,{})}}new Zr({target:document.getElementById("app")});
