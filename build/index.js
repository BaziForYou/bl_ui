var bn=Object.defineProperty;var yn=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qe=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function F(){}const Ge=t=>t;function De(t,e){for(const n in e)t[n]=e[n];return t}function sn(t){return t()}function mt(){return Object.create(null)}function ne(t){t.forEach(sn)}function Oe(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function wn(t){return Object.keys(t).length===0}function je(t,...e){if(t==null){for(const r of e)r(void 0);return F}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ee(t){let e;return je(t,n=>e=n)(),e}function G(t,e,n){t.$$.on_destroy.push(je(e,n))}function vn(t,e,n,r){if(t){const s=ln(t,e,n,r);return t[0](s)}}function ln(t,e,n,r){return t[1]&&r?De(n.ctx.slice(),t[1](r(e))):n.ctx}function kn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(e.dirty.length,s.length);for(let u=0;u<l;u+=1)i[u]=e.dirty[u]|s[u];return i}return e.dirty|s}return e.dirty}function Sn(t,e,n,r,s,i){if(s){const l=ln(e,n,r,i);t.p(l,s)}}function En(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function In(t,e,n){return t.set(n),e}const on=typeof window<"u";let Xe=on?()=>window.performance.now():()=>Date.now(),ft=on?t=>requestAnimationFrame(t):F;const ve=new Set;function un(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&ft(un)}function He(t){let e;return ve.size===0&&ft(un),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function I(t,e){t.appendChild(e)}function cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function An(t){const e=T("style");return e.textContent="/* empty */",Ln(cn(t),e),e.sheet}function Ln(t,e){return I(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function ee(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function U(){return W(" ")}function Y(){return W("")}function te(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nn(t){return t===""?null:+t}function Cn(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function $e(t,e){t.value=e??""}function D(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Tn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const Be=new Map;let Ze=0;function Mn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Rn(t,e){const n={stylesheet:An(e),rules:{}};return Be.set(t,n),n}function Ve(t,e,n,r,s,i,l,u=0){const o=16.666/r;let c=`{
`;for(let h=0;h<=1;h+=o){const b=e+(n-e)*i(h);c+=h*100+`%{${l(b,1-b)}}
`}const f=c+`100% {${l(n,1-n)}}
}`,a=`__svelte_${Mn(f)}_${u}`,p=cn(t),{stylesheet:g,rules:_}=Be.get(p)||Rn(p,t);_[a]||(_[a]=!0,g.insertRule(`@keyframes ${a} ${f}`,g.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${a} ${r}ms linear ${s}ms 1 both`,Ze+=1,a}function Ye(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Ze-=s,Ze||Dn())}function Dn(){ft(()=>{Ze||(Be.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),Be.clear())})}let Ke;function Me(t){Ke=t}function fn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function qe(t){fn().$$.on_mount.push(t)}function Kn(t){fn().$$.on_destroy.push(t)}const be=[],gt=[];let ke=[];const ht=[],Un=Promise.resolve();let it=!1;function On(){it||(it=!0,Un.then(an))}function z(t){ke.push(t)}const xe=new Set;let ge=0;function an(){if(ge!==0)return;const t=Ke;do{try{for(;ge<be.length;){const e=be[ge];ge++,Me(e),Pn(e.$$)}}catch(e){throw be.length=0,ge=0,e}for(Me(null),be.length=0,ge=0;gt.length;)gt.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];xe.has(n)||(xe.add(n),n())}ke.length=0}while(be.length);for(;ht.length;)ht.pop()();it=!1,xe.clear(),Me(t)}function Pn(t){if(t.fragment!==null){t.update(),ne(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function Fn(t){const e=[],n=[];ke.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ke=e}let Te;function at(){return Te||(Te=Promise.resolve(),Te.then(()=>{Te=null})),Te}function pe(t,e,n){t.dispatchEvent(Tn(`${e?"intro":"outro"}${n}`))}const ze=new Set;let oe;function $(){oe={r:0,c:[],p:oe}}function B(){oe.r||ne(oe.c),oe=oe.p}function k(t,e){t&&t.i&&(ze.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(ze.has(t))return;ze.add(t),oe.c.push(()=>{ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const dt={duration:0};function zn(t,e,n){const r={direction:"in"};let s=e(t,n,r),i=!1,l,u,o=0;function c(){l&&Ye(t,l)}function f(){const{delay:p=0,duration:g=300,easing:_=Ge,tick:y=F,css:h}=s||dt;h&&(l=Ve(t,0,1,g,p,_,h,o++)),y(0,1);const b=Xe()+p,S=b+g;u&&u.abort(),i=!0,z(()=>pe(t,!0,"start")),u=He(v=>{if(i){if(v>=S)return y(1,0),pe(t,!0,"end"),c(),i=!1;if(v>=b){const m=_((v-b)/g);y(m,1-m)}}return i})}let a=!1;return{start(){a||(a=!0,Ye(t),Oe(s)?(s=s(r),at().then(f)):f())},invalidate(){a=!1},end(){i&&(c(),i=!1)}}}function $n(t,e,n){const r={direction:"out"};let s=e(t,n,r),i=!0,l;const u=oe;u.r+=1;let o;function c(){const{delay:f=0,duration:a=300,easing:p=Ge,tick:g=F,css:_}=s||dt;_&&(l=Ve(t,1,0,a,f,p,_));const y=Xe()+f,h=y+a;z(()=>pe(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),He(b=>{if(i){if(b>=h)return g(0,1),pe(t,!1,"end"),--u.r||ne(u.c),!1;if(b>=y){const S=p((b-y)/a);g(1-S,S)}}return i})}return Oe(s)?at().then(()=>{s=s(r),c()}):c(),{end(f){f&&"inert"in t&&(t.inert=o),f&&s.tick&&s.tick(1,0),i&&(l&&Ye(t,l),i=!1)}}}function P(t,e,n,r){let i=e(t,n,{direction:"both"}),l=r?0:1,u=null,o=null,c=null,f;function a(){c&&Ye(t,c)}function p(_,y){const h=_.b-l;return y*=Math.abs(h),{a:l,b:_.b,d:h,duration:y,start:_.start,end:_.start+y,group:_.group}}function g(_){const{delay:y=0,duration:h=300,easing:b=Ge,tick:S=F,css:v}=i||dt,m={start:Xe()+y,b:_};_||(m.group=oe,oe.r+=1),"inert"in t&&(_?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),u||o?o=m:(v&&(a(),c=Ve(t,l,_,h,y,b,v)),_&&S(0,1),u=p(m,h),z(()=>pe(t,_,"start")),He(w=>{if(o&&w>o.start&&(u=p(o,h),o=null,pe(t,u.b,"start"),v&&(a(),c=Ve(t,l,u.b,u.duration,0,b,i.css))),u){if(w>=u.end)S(l=u.b,1-l),pe(t,u.b,"end"),o||(u.b?a():--u.group.r||ne(u.group.c)),u=null;else if(w>=u.start){const E=w-u.start;l=u.a+u.d*b(E/u.duration),S(l,1-l)}}return!!(u||o)}))}return{run(_){Oe(i)?at().then(()=>{i=i({direction:_?"in":"out"}),g(_)}):g(_)},end(){a(),u=o=null}}}function q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dn(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const l=t[i],u=e[i];if(u){for(const o in l)o in u||(r[o]=1);for(const o in u)s[o]||(n[o]=u[o],s[o]=1);t[i]=u}else for(const o in l)s[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function _n(t){return typeof t=="object"&&t!==null?t:{}}function ie(t){t&&t.c()}function J(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),z(()=>{const i=t.$$.on_mount.map(sn).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...i):ne(i),t.$$.on_mount=[]}),s.forEach(z)}function Q(t,e){const n=t.$$;n.fragment!==null&&(Fn(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(be.push(t),On(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function re(t,e,n,r,s,i,l,u=[-1]){const o=Ke;Me(t);const c=t.$$={fragment:null,ctx:[],props:i,update:F,not_equal:s,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:mt(),dirty:u,skip_bound:!1,root:e.target||o.$$.root};l&&l(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(a,p,...g)=>{const _=g.length?g[0]:p;return c.ctx&&s(c.ctx[a],c.ctx[a]=_)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](_),f&&Bn(t,a)),p}):[],c.update(),f=!0,ne(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const a=Cn(e.target);c.fragment&&c.fragment.l(a),a.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&k(t.$$.fragment),J(t,e.target,e.anchor),an()}Me(o)}class se{constructor(){Qe(this,"$$");Qe(this,"$$set")}$destroy(){Q(this,1),this.$destroy=F}$on(e,n){if(!Oe(n))return F;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zn);const he=[];function Ae(t,e=F){let n;const r=new Set;function s(u){if(V(t,u)&&(t=u,n)){const o=!he.length;for(const c of r)c[1](),he.push(c,t);if(o){for(let c=0;c<he.length;c+=2)he[c][0](he[c+1]);he.length=0}}}function i(u){s(u(t))}function l(u,o=F){const c=[u,o];return r.add(c),r.size===1&&(n=e(s,i)||F),u(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}const _t=Ae({fallbackResourceName:"debug",allowEscapeKey:!0}),Vn=Ae(window.GetParentResourceName?window.GetParentResourceName():Ee(_t).DEBUG_RESOURCE_NAME),pn=Ae(!window.invokeNative),bt=Ae(!1);var j=(t=>(t.visible="ui:visible",t.start="ui:start",t))(j||{}),pt=(t=>(t.close="ui:close",t.finish="ui:finish",t))(pt||{}),fe=(t=>(t.down="keydown",t.up="keyup",t.pressed="keypress",t))(fe||{});const We=Ee(pn),Yn=Ee(Vn),ot=[];async function Gn(t,e={}){if(We==!0){const s=await Xn(t,e);return Promise.resolve(s)}const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};return await(await fetch(`https://${Yn}/${t}`,n)).json()}function mn(t,e){const n=r=>{const{action:s,data:i}=r.data;s===t&&e(i)};qe(()=>window.addEventListener("message",n)),Kn(()=>window.removeEventListener("message",n))}async function ce(t,e,n=0){We&&setTimeout(()=>{const r=new MessageEvent("message",{data:{action:t,data:e}});window.dispatchEvent(r)},n)}async function jn(t,e){if(We){if(ot[t]!==void 0){console.log(`%c[DEBUG] %c${t} %cevent already has a debug receiver.`,"color: red; font-weight: bold;","color: green","");return}ot[t]=e}}async function Xn(t,e){if(!We)return;const n=ot[t];return n===void 0?(console.log(`[DEBUG] ${t} event does not have a debugger.`),{}):await n(e)}const Hn=()=>{const t=Ae({active:!1});return{...t,...{start:n=>{let{type:r,iterations:s,config:i}=n;s=s||1,t.update(l=>({active:!0,type:r,iterations:s,config:i}))},finish:(n=!1)=>{t.update(r=>(Gn(pt.finish,n),{active:!1}))}}}},K=Hn(),qn=[{action:j.visible,handler:t=>{}},{action:j.start,handler:t=>{K.start(t)}}];function Wn(){for(const t of qn)mn(t.action,t.handler)}function yt(t){let e,n;const r=t[2].default,s=vn(r,t,t[1],null);return{c(){e=T("main"),s&&s.c(),d(e,"class","svelte-1w09ye1")},m(i,l){L(i,e,l),s&&s.m(e,null),n=!0},p(i,l){s&&s.p&&(!n||l&2)&&Sn(s,r,i,i[1],n?kn(r,i[1],l,null):En(i[1]),null)},i(i){n||(k(s,i),n=!0)},o(i){C(s,i),n=!1},d(i){i&&A(e),s&&s.d(i)}}}function Jn(t){let e,n,r=t[0]&&yt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=yt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Qn(t,e,n){let r,s,i;G(t,K,o=>n(3,r=o)),G(t,bt,o=>n(0,s=o)),G(t,_t,o=>n(4,i=o));let{$$slots:l={},$$scope:u}=e;return mn(j.visible,o=>{In(bt,s=o,s)}),qe(()=>{if(!i.allowEscapeKey)return;const o=c=>{s&&["Escape"].includes(c.code)&&r.active&&K.finish(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),t.$$set=o=>{"$$scope"in o&&n(1,u=o.$$scope)},[s,u,l]}class xn extends se{constructor(e){super(),re(this,e,Qn,Jn,V,{})}}function ut(t){ce(j.visible,t)}const er=[{label:"Visible",action:()=>ut(!0),delay:500}];function tr(){for(const t of er)setTimeout(()=>{t.action()},t.delay||0)}const nr=[{action:pt.close,handler:()=>{}}];function rr(){for(const t of nr)jn(t.action,t.handler)}var X=(t=>(t.CircleProgress="CircleProgress",t.Progress="Progress",t.KeyCircle="KeyCircle",t.KeySpam="KeySpam",t.NumberSlide="NumberSlide",t.RapidLines="RapidLines",t))(X||{});const Fe=[{label:"Visibility",actions:[{label:"True",action:()=>ut(!0)},{label:"False",action:()=>ut(!1)}]},{label:"CircleProgress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.CircleProgress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"Progress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.Progress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"KeyCircle",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:2};ce(j.start,{type:X.KeyCircle,iterations:1,config:e})},value:50,type:"slider"}]},{label:"KeySpam",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.KeySpam,iterations:1,config:e})},value:50,type:"slider"}]},{label:"NumberSlide",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(j.start,{type:X.NumberSlide,iterations:1,config:e})},value:50,type:"slider"}]},{label:"RapidLines",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(j.start,{type:X.RapidLines,iterations:1,config:e})},value:50,type:"slider"}]}];function wt(t,e,n){const r=t.slice();return r[12]=e[n].label,r[13]=e[n].actions,r}function vt(t,e,n){const r=t.slice();return r[16]=e[n],r[17]=e,r[18]=n,r}function kt(t){let e,n=q(t[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Et(wt(t,n,s));return{c(){e=T("ol");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"class","flex flex-col gap-2 bg-primary z-[9999999] max-w-[25vw] h-full px-[0.5vw] py-[0.5vw]")},m(s,i){L(s,e,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(s,i){if(i&1){n=q(s[0]);let l;for(l=0;l<n.length;l+=1){const u=wt(s,n,l);r[l]?r[l].p(u,i):(r[l]=Et(u),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function sr(t){let e,n=t[16].label+"",r,s,i;function l(){return t[11](t[16])}return{c(){e=T("button"),r=W(n),d(e,"class","w-full px-[0.5vw] py-[0.25vw] bg-accent")},m(u,o){L(u,e,o),I(e,r),s||(i=te(e,"click",l),s=!0)},p(u,o){t=u,o&1&&n!==(n=t[16].label+"")&&ue(r,n)},d(u){u&&A(e),s=!1,i()}}}function lr(t){let e,n,r=t[16].label+"",s,i,l,u,o,c,f,a,p,g;function _(){t[9].call(l,t[17],t[18])}function y(){return t[10](t[16])}return{c(){e=T("span"),n=T("p"),s=W(r),i=U(),l=T("input"),f=U(),a=T("button"),a.textContent="Action",d(l,"type","range"),d(l,"class","w-full"),d(l,"min",u=t[16].min||0),d(l,"max",o=t[16].max||100),d(l,"step",c=t[16].step||1),d(a,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-accent border-primary border-2"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(h,b){L(h,e,b),I(e,n),I(n,s),I(e,i),I(e,l),$e(l,t[16].value),I(e,f),I(e,a),p||(g=[te(l,"change",_),te(l,"input",_),te(a,"click",y)],p=!0)},p(h,b){t=h,b&1&&r!==(r=t[16].label+"")&&ue(s,r),b&1&&u!==(u=t[16].min||0)&&d(l,"min",u),b&1&&o!==(o=t[16].max||100)&&d(l,"max",o),b&1&&c!==(c=t[16].step||1)&&d(l,"step",c),b&1&&$e(l,t[16].value)},d(h){h&&A(e),p=!1,ne(g)}}}function ir(t){let e,n,r=t[16].label+"",s,i,l,u,o;function c(){t[7].call(l,t[17],t[18])}function f(...a){return t[8](t[16],...a)}return{c(){e=T("span"),n=T("p"),s=W(r),i=U(),l=T("input"),d(l,"type","checkbox"),d(l,"class","h-full aspect-square"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-row gap-[0.2vw] bg-accent items-center")},m(a,p){L(a,e,p),I(e,n),I(n,s),I(e,i),I(e,l),l.checked=t[16].value,u||(o=[te(l,"change",c),te(l,"input",f)],u=!0)},p(a,p){t=a,p&1&&r!==(r=t[16].label+"")&&ue(s,r),p&1&&(l.checked=t[16].value)},d(a){a&&A(e),u=!1,ne(o)}}}function or(t){let e,n,r=t[16].label+"",s,i,l,u,o,c,f;function a(){t[5].call(l,t[17],t[18])}function p(){return t[6](t[16])}return{c(){e=T("span"),n=T("p"),s=W(r),i=U(),l=T("input"),u=U(),o=T("button"),o.textContent="Apply",d(n,"class",""),d(l,"type","text"),d(l,"class","h-full w-full text-[color:var(--text-secondary)] px-[0.25vw]"),d(o,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-primary"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(g,_){L(g,e,_),I(e,n),I(n,s),I(e,i),I(e,l),$e(l,t[16].value),I(e,u),I(e,o),c||(f=[te(l,"input",a),te(o,"click",p)],c=!0)},p(g,_){t=g,_&1&&r!==(r=t[16].label+"")&&ue(s,r),_&1&&l.value!==t[16].value&&$e(l,t[16].value)},d(g){g&&A(e),c=!1,ne(f)}}}function St(t){let e;function n(i,l){return i[16].type==="text"?or:i[16].type==="checkbox"?ir:i[16].type==="slider"?lr:sr}let r=n(t),s=r(t);return{c(){e=T("div"),s.c(),d(e,"class","flex flex-row flex-wrap gap-[0.5vw]")},m(i,l){L(i,e,l),s.m(e,null)},p(i,l){r===(r=n(i))&&s?s.p(i,l):(s.d(1),s=r(i),s&&(s.c(),s.m(e,null)))},d(i){i&&A(e),s.d()}}}function Et(t){let e,n,r=t[12]+"",s,i,l,u=q(t[13]),o=[];for(let c=0;c<u.length;c+=1)o[c]=St(vt(t,u,c));return{c(){e=T("li"),n=T("span"),s=W(r),i=U();for(let c=0;c<o.length;c+=1)o[c].c();l=U(),d(n,"class","w-full text-black"),d(e,"class","flex flex-col gap-1 border-l-[2px] border-[color:var(--accent)] px-[0.25vw]")},m(c,f){L(c,e,f),I(e,n),I(n,s),I(e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);I(e,l)},p(c,f){if(f&1&&r!==(r=c[12]+"")&&ue(s,r),f&1){u=q(c[13]);let a;for(a=0;a<u.length;a+=1){const p=vt(c,u,a);o[a]?o[a].p(p,f):(o[a]=St(p),o[a].c(),o[a].m(e,l))}for(;a<o.length;a+=1)o[a].d(1);o.length=u.length}},d(c){c&&A(e),Ie(o,c)}}}function ur(t){let e,n,r,s,i,l,u,o=t[1]&&kt(t);return{c(){e=T("div"),n=T("button"),n.textContent="Debug",r=U(),o&&o.c(),s=U(),i=T("div"),d(n,"class","px-[1vw] py-[0.5vw] w-fit h-fit z-[9999999] bg-accent"),D(i,"background-image","url('https://cdn.discordapp.com/attachments/1068663854143389788/1074878298498281554/HUD_-_Target_Menu.png')"),d(i,"class","absolute w-screen bg-cover bg-no-repeat bg-center h-screen top-0 left-0 dev-image"),d(e,"class","w-fit h-fit flex flex-col z-[9999999]")},m(c,f){L(c,e,f),I(e,n),I(e,r),o&&o.m(e,null),I(e,s),I(e,i),l||(u=[te(window,"keydown",t[2]),te(window,"keyup",t[3]),te(n,"click",t[4])],l=!0)},p(c,[f]){c[1]?o?o.p(c,f):(o=kt(c),o.c(),o.m(e,s)):o&&(o.d(1),o=null)},i:F,o:F,d(c){c&&A(e),o&&o.d(),l=!1,ne(u)}}}function cr(t,e,n){qe(()=>{tr(),rr()});function r(_){ce(j.keydown,_)}function s(_){ce(j.keyup,_)}let i=!1;const l=()=>n(1,i=!i);function u(_,y){_[y].value=this.value,n(0,Fe)}const o=_=>{_.action(_.value)};function c(_,y){_[y].value=this.checked,n(0,Fe)}const f=(_,y)=>{_.action(_.value)};function a(_,y){_[y].value=Nn(this.value),n(0,Fe)}return[Fe,i,r,s,l,u,o,c,f,a,_=>{_.action(_.value)},_=>{_.action()}]}class fr extends se{constructor(e){super(),re(this,e,cr,ur,V,{})}}async function Le(t){return new Promise(e=>setTimeout(e,t))}function It(t){return Object.prototype.toString.call(t)==="[object Date]"}function ar(t){const e=t-1;return e*e*e+1}function ct(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,i)=>ct(t[i],s));return s=>r.map(i=>i(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(It(t)&&It(e)){t=t.getTime(),e=e.getTime();const i=e-t;return l=>new Date(t+l*i)}const r=Object.keys(e),s={};return r.forEach(i=>{s[i]=ct(t[i],e[i])}),i=>{const l={};return r.forEach(u=>{l[u]=s[u](i)}),l}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Ne(t,e={}){const n=Ae(t);let r,s=t;function i(l,u){if(t==null)return n.set(t=l),Promise.resolve();s=l;let o=r,c=!1,{delay:f=0,duration:a=400,easing:p=Ge,interpolate:g=ct}=De(De({},e),u);if(a===0)return o&&(o.abort(),o=null),n.set(t=s),Promise.resolve();const _=Xe()+f;let y;return r=He(h=>{if(h<_)return!0;c||(y=g(t,l),typeof a=="function"&&(a=a(t,l)),c=!0),o&&(o.abort(),o=null);const b=h-_;return b>a?(n.set(t=l),!1):(n.set(t=y(p(b/a))),!0)}),r.promise}return{set:i,update:(l,u)=>i(l(s,t),u),subscribe:n.subscribe}}function O(t,{delay:e=0,duration:n=400,easing:r=ar,start:s=0,opacity:i=0}={}){const l=getComputedStyle(t),u=+l.opacity,o=l.transform==="none"?"":l.transform,c=1-s,f=u*(1-i);return{delay:e,duration:n,easing:r,css:(a,p)=>`
			transform: ${o} scale(${1-c*p});
			opacity: ${u-f*p}
		`}}const Se={DURATION:{MIN:500,MAX:3e3},SIZE:{MIN:2,MAX:40},FALLBACK_DIFFICULTY:50},et={DURATION:{MIN:250,MAX:1500},FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},At={DURATION:{MIN:750,MAX:5e3},FALLBACK_DIFFICULTY:50},_e={DURATION:{MIN:500,MAX:7500},ZONE_SIZE:15,FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},ye={DURATION:{MIN:500,MAX:3e3},ZONE:{MIN:5,MAX:40},ZONE_FROM_RIGHT:95,FALLBACK_DIFFICULTY:50,FALLBACK_NUM_LINES:3},me={Primary:"E",Secondary:"Q",Numbers:["1","2","3","4"],PrimarySet:["W","A","S","D"],SecondarySet:["I","J","K","L"]};function x(t){const e=me[t];return e[Math.floor(Math.random()*e.length)]}function de(t,e){function n(){window.removeEventListener(t,e)}return window.addEventListener(t,e),{removeListener:n}}function tt(t){const e=t.slice(),n=e[1].target;return e[17]=n.size,e[18]=n.rotation,e}function Lt(t){let e,n,r=t[1].target,s,i,l,u,o=Nt(t),c=t[1]&&Ct(tt(t));return{c(){e=T("div"),n=T("div"),o.c(),s=U(),i=ee("svg"),c&&c.c(),d(n,"style",t[7]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full"),d(i,"style",t[6]),d(i,"version","1.1"),d(i,"class","z-0 absolute overflow-visible"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),I(e,n),o.m(n,null),I(e,s),I(e,i),c&&c.m(i,null),u=!0},p(f,a){a&2&&V(r,r=f[1].target)?($(),C(o,1,1,F),B(),o=Nt(f),o.c(),k(o,1),o.m(n,null)):o.p(f,a),f[1]?c?c.p(tt(f),a):(c=Ct(tt(f)),c.c(),c.m(i,null)):c&&(c.d(1),c=null)},i(f){u||(k(o),f&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(f){C(o),f&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(f){f&&A(e),o.d(f),c&&c.d(),f&&l&&l.end()}}}function Nt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=T("p"),r=W(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,u){L(l,e,u),I(e,r),i=!0},p(l,u){(!i||u&2)&&n!==(n=l[1].key+"")&&ue(r,n)},i(l){i||(l&&z(()=>{i&&(s||(s=P(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=P(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Ct(t){let e,n,r,s,i;return{c(){e=ee("circle"),n=ee("circle"),s=ee("circle"),D(e,"stroke-width",we*.1+"vw"),d(e,"class","absolute fill-none stroke-primary-50"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",we*.95+"vw"),D(n,"transform","rotate("+(-90+t[18])+"deg)"),d(n,"class","absolute radial stroke-primary origin-center target-segment svelte-1s27jpb"),d(n,"stroke-dasharray",t[5]+"vw"),d(n,"stroke-dashoffset",r=t[5]*((100-t[17])/100)+"vw"),d(n,"stroke-width",Tt+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",we*.9+"vw"),D(s,"transform","rotate("+(-90+t[3]/100*360)+"deg)"),d(s,"class",i="absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success stroke-success":t[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(s,"stroke-dasharray",t[5]+"vw"),d(s,"stroke-dashoffset",t[5]*((100-gn)/100)+"vw"),d(s,"stroke-width",Tt+"vw"),d(s,"fill-opacity","0"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",we*.9+"vw")},m(l,u){L(l,e,u),L(l,n,u),L(l,s,u)},p(l,u){u&2&&D(n,"transform","rotate("+(-90+l[18])+"deg)"),u&2&&r!==(r=l[5]*((100-l[17])/100)+"vw")&&d(n,"stroke-dashoffset",r),u&8&&D(s,"transform","rotate("+(-90+l[3]/100*360)+"deg)"),u&4&&i!==(i="absolute origin-center default-colour-transition "+(l[2]==="success"?"glow-success stroke-success":l[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(s,"class",i)},d(l){l&&(A(e),A(n),A(s))}}}function dr(t){let e,n=t[0]&&Lt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=Lt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const gn=2,Tt=1,we=4;function _r(t,e,n){let r,s;G(t,K,m=>n(9,r=m));const i=Ne(0);G(t,i,m=>n(3,s=m));const l=we*2,u=2*Math.PI*we,o=`
        width: ${l}vw;
        height: ${l}vw;
    `,c=`
        width: ${l/2}vw;
        height: ${l/2}vw;
    `;let f=!1,a=null,p=null,g;K.subscribe(m=>{let w=m.active&&m.type===X.CircleProgress&&!a;w?(n(0,f=!0),b()):f&&!w&&(n(0,f=!1),n(1,a=null),n(2,p=null),_())});function _(){g==null||g.removeListener(),g=null}async function y(){if(!f)return;const m=a.duration;return i.set(100,{duration:m}),new Promise((w,E)=>{let N=setTimeout(()=>{w(!1)},m);g=de(fe.pressed,M=>{const R=M.key.toUpperCase();if(me.Numbers.includes(R))if(clearTimeout(N),i.set(s,{duration:0}),R===a.key){const Z=s/100*360,H=a.target.rotation,le=a.target.size*3.6,ae=gn*3.6;if(Z>H-ae&&Z<le+H)w(!0);else{w(!1);return}}else w(!1)})})}async function h(m,w){if(!f)return;_(),i.set(0,{duration:0});let{difficulty:E}=w;E=(E||Se.FALLBACK_DIFFICULTY)>=100?99:E<=0?5:E,n(1,a={target:v(E),duration:S(E),key:x("Numbers")}),n(2,p=null),await Le(500);const N=await y();n(2,p=N?"success":"fail"),setTimeout(()=>{if(f)if(N&&m>0)if(m--,m>0)h(m,w);else{K.finish(!0),n(1,a=null);return}else{K.finish(!1),n(1,a=null);return}},500)}function b(){if(!r.active||a)return;const{iterations:m,config:w}=r;h(m,w)}function S(m){const{MIN:w,MAX:E}=Se.DURATION;let N=w+(E-w)*((100-m)/100);const M=N*.2,R=Math.random()*M;return N+=R,N}function v(m){m=m>=100?99:m<=0?5:m;const{MAX:w}=Se.SIZE,E=w-m/100*w;let N=90+Math.random()*120;return E*3.6+N>360&&(N-=E*3.6+N-360),{size:E,rotation:N}}return[f,a,p,s,i,u,o,c]}class pr extends se{constructor(e){super(),re(this,e,_r,dr,V,{})}}function nt(t){const e=t.slice(),n=e[1].target;return e[13]=n.size,e[14]=n.progress,e}function Mt(t){let e,n,r=t[1].target,s,i,l,u,o,c,f=Rt(t),a=t[1]&&Dt(nt(t));return{c(){e=T("div"),n=T("div"),f.c(),s=U(),i=T("div"),u=U(),a&&a.c(),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),D(i,"left",t[3]+"%"),D(i,"width",hn+"vw"),d(i,"class",l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success bg-success":t[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50")},m(p,g){L(p,e,g),I(e,n),f.m(n,null),I(e,s),I(e,i),I(e,u),a&&a.m(e,null),c=!0},p(p,g){g&2&&V(r,r=p[1].target)?($(),C(f,1,1,F),B(),f=Rt(p),f.c(),k(f,1),f.m(n,null)):f.p(p,g),(!c||g&8)&&D(i,"left",p[3]+"%"),(!c||g&4&&l!==(l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(p[2]==="success"?"glow-success bg-success":p[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")))&&d(i,"class",l),p[1]?a?a.p(nt(p),g):(a=Dt(nt(p)),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(p){c||(k(f),p&&z(()=>{c&&(o||(o=P(e,O,{},!0)),o.run(1))}),c=!0)},o(p){C(f),p&&(o||(o=P(e,O,{},!1)),o.run(0)),c=!1},d(p){p&&A(e),f.d(p),a&&a.d(),p&&o&&o.end()}}}function Rt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=T("p"),r=W(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,u){L(l,e,u),I(e,r),i=!0},p(l,u){(!i||u&2)&&n!==(n=l[1].key+"")&&ue(r,n)},i(l){i||(l&&z(()=>{i&&(s||(s=P(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=P(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Dt(t){let e;return{c(){e=T("div"),D(e,"left",t[14]+"%"),D(e,"width",t[13]+"%"),d(e,"class","h-[1vw] center-y absolute origin-center bg-primary z-0 target-segment svelte-1s27jpb")},m(n,r){L(n,e,r)},p(n,r){r&2&&D(e,"left",n[14]+"%"),r&2&&D(e,"width",n[13]+"%")},d(n){n&&A(e)}}}function mr(t){let e,n=t[0]&&Mt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=Mt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const hn=.5;function gr(t,e,n){let r,s;G(t,K,h=>n(6,r=h));const i=Ne(0);G(t,i,h=>n(3,s=h));let l=!1,u=null,o=null,c;K.subscribe(h=>{let b=h.active&&h.type===X.Progress&&!u;b?(n(0,l=!0),g()):l&&!b&&(n(0,l=!1),n(1,u=null),f())});function f(){c==null||c.removeListener(),c=null}async function a(){if(!l)return;const h=u.duration;return i.set(100,{duration:h}),new Promise((b,S)=>{let v=setTimeout(()=>{b(!1)},h);c=de(fe.pressed,m=>{const w=m.key.toUpperCase();if(me.Numbers.includes(w))if(clearTimeout(v),i.set(s,{duration:0}),w===u.key){const E=u.target.progress,N=u.target.size,M=s;if(M>E-hn&&M<N+E)b(!0);else{b(!1);return}}else b(!1)})})}async function p(h,b){if(!l)return;f(),i.set(0,{duration:0});let{difficulty:S}=b;S=(S||Se.FALLBACK_DIFFICULTY)>=100?99:S<=0?5:S,n(1,u={target:y(S),duration:_(S),key:x("Numbers")}),await Le(500);const v=await a();n(2,o=v?"success":"fail"),setTimeout(()=>{if(l)if(n(2,o=null),v&&h>0)if(h--,h>0)p(h,b);else{K.finish(!0),n(1,u=null);return}else{K.finish(!1),n(1,u=null);return}},500)}function g(){if(!r.active||u)return;const{iterations:h,config:b}=r;p(h,b)}function _(h){const{MIN:b,MAX:S}=Se.DURATION;let v=b+(S-b)*((100-h)/100);const m=v*.2,w=Math.random()*m;return v+=w,v}function y(h){h=h>=100?99:h<=0?5:h;const{MAX:b}=Se.SIZE,S=b-h/100*b,v=30,m=100-S,w=Math.random()*(m-v)+v;return{size:S,progress:w}}return[l,u,o,s,i]}class hr extends se{constructor(e){super(),re(this,e,gr,mr,V,{})}}function Kt(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function rt(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e[18]=n.currentStage,e}function st(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e}function Ut(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ot(t){let e,n,r,s,i,l,u,o=t[1]&&Pt(t),c=t[1]&&$t(st(t)),f=t[1]&&Bt(rt(t));return{c(){e=T("div"),o&&o.c(),n=U(),r=ee("svg"),s=ee("circle"),c&&c.c(),i=U(),f&&f.c(),D(s,"stroke-width",Ue*.1+"vw"),d(s,"class","absolute fill-none stroke-primary-50"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",Ue*.95+"vw"),d(r,"style",t[6]),d(r,"version","1.1"),d(r,"class","z-0 absolute overflow-visible -rotate-90"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full w-fit h-fit")},m(a,p){L(a,e,p),o&&o.m(e,null),I(e,n),I(e,r),I(r,s),c&&c.m(r,null),I(e,i),f&&f.m(e,null),u=!0},p(a,p){a[1]?o?(o.p(a,p),p&2&&k(o,1)):(o=Pt(a),o.c(),k(o,1),o.m(e,n)):o&&($(),C(o,1,1,()=>{o=null}),B()),a[1]?c?c.p(st(a),p):(c=$t(st(a)),c.c(),c.m(r,null)):c&&(c.d(1),c=null),a[1]?f?f.p(rt(a),p):(f=Bt(rt(a)),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){u||(k(o),a&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(a){C(o),a&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(a){a&&A(e),o&&o.d(),c&&c.d(),f&&f.d(),a&&l&&l.end()}}}function Pt(t){let e=t[1].keys,n,r,s=zt(t);return{c(){s.c(),n=Y()},m(i,l){s.m(i,l),L(i,n,l),r=!0},p(i,l){l&2&&V(e,e=i[1].keys)?($(),C(s,1,1,F),B(),s=zt(i),s.c(),k(s,1),s.m(n.parentNode,n)):s.p(i,l)},i(i){r||(k(s),r=!0)},o(i){C(s),r=!1},d(i){i&&A(n),s.d(i)}}}function Ft(t){let e,n,r=t[22]+"",s,i,l,u;return{c(){e=T("div"),n=T("p"),s=W(r),l=U(),d(n,"class","text-shadow absolute font-bold text-[2vw]"),d(e,"style",t[7]),d(e,"class","grid place-items-center secondary-shadow bg-primary-50")},m(o,c){L(o,e,c),I(e,n),I(n,s),I(e,l),u=!0},p(o,c){(!u||c&2)&&r!==(r=o[22]+"")&&ue(s,r)},i(o){u||(o&&z(()=>{u&&(i||(i=P(n,O,{duration:100},!0)),i.run(1))}),u=!0)},o(o){o&&(i||(i=P(n,O,{duration:100},!1)),i.run(0)),u=!1},d(o){o&&A(e),o&&i&&i.end()}}}function zt(t){var u;let e,n,r,s=q((u=t[1])==null?void 0:u.keys),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ft(Ut(t,s,o));const l=o=>C(i[o],1,1,()=>{i[o]=null});return{c(){e=T("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"class","flex flex-row items-center justify-center absolute")},m(o,c){L(o,e,c);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);r=!0},p(o,c){var f;if(c&130){s=q((f=o[1])==null?void 0:f.keys);let a;for(a=0;a<s.length;a+=1){const p=Ut(o,s,a);i[a]?(i[a].p(p,c),k(i[a],1)):(i[a]=Ft(p),i[a].c(),k(i[a],1),i[a].m(e,null))}for($(),a=s.length;a<i.length;a+=1)l(a);B()}},i(o){if(!r){for(let c=0;c<s.length;c+=1)k(i[c]);o&&z(()=>{r&&(n||(n=P(e,O,{},!0)),n.run(1))}),r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)C(i[c]);o&&(n||(n=P(e,O,{},!1)),n.run(0)),r=!1},d(o){o&&A(e),Ie(i,o),o&&n&&n.end()}}}function $t(t){let e,n;return{c(){e=ee("circle"),D(e,"transform","rotate("+(1/t[17]*360-90)+"deg)"),d(e,"class","absolute stroke-primary origin-center"),d(e,"stroke-dasharray",t[5]+"vw"),d(e,"stroke-dashoffset",n=t[5]*((100-t[3])/100)+"vw"),d(e,"stroke-width",yr+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Ue*.95+"vw")},m(r,s){L(r,e,s)},p(r,s){s&2&&D(e,"transform","rotate("+(1/r[17]*360-90)+"deg)"),s&8&&n!==(n=r[5]*((100-r[3])/100)+"vw")&&d(e,"stroke-dashoffset",n)},d(r){r&&A(e)}}}function Bt(t){let e,n=q({length:t[17]}),r=[];for(let s=0;s<n.length;s+=1)r[s]=Zt(Kt(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Y()},m(s,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,i);L(s,e,i)},p(s,i){if(i&70){n=q({length:s[17]});let l;for(l=0;l<n.length;l+=1){const u=Kt(s,n,l);r[l]?r[l].p(u,i):(r[l]=Zt(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function Zt(t){let e,n,r,s,i;return{c(){e=T("div"),n=T("div"),s=U(),d(n,"class",r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(t[2]=="fail"?"bg-fail glow-fail":t[18]===t[21]||t[18]===t[17]&&t[21]===0?"bg-accent glow-accent":t[18]>=t[21]&&t[21]!==0||t[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow")),d(e,"style",i="transform: rotate("+((t[21]+1)/t[17]*360-90)+"deg);"+t[6]),d(e,"class","origin-center absolute")},m(l,u){L(l,e,u),I(e,n),I(e,s)},p(l,u){u&6&&r!==(r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(l[2]=="fail"?"bg-fail glow-fail":l[18]===l[21]||l[18]===l[17]&&l[21]===0?"bg-accent glow-accent":l[18]>=l[21]&&l[21]!==0||l[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow"))&&d(n,"class",r),u&2&&i!==(i="transform: rotate("+((l[21]+1)/l[17]*360-90)+"deg);"+l[6])&&d(e,"style",i)},d(l){l&&A(e)}}}function br(t){let e,n,r=t[0]&&Ot(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=Ot(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}const yr=.5,Ue=5;function wr(t,e,n){let r,s;G(t,K,m=>n(10,r=m));const i=Ne(0);G(t,i,m=>n(3,s=m));let l={};const u=Ue*2,o=2*Math.PI*Ue,c=`
        width: ${u}vw;
        height: ${u}vw;
    `,f=`
        width: ${u/4}vw;
        height: ${u/4}vw;
    `;let a=!1,p=null,g=null,_={Down:null,Up:null};K.subscribe(m=>{let w=m.active&&m.type===X.KeyCircle&&!p;w?(n(0,a=!0),S()):a&&!w&&(n(0,a=!1),n(1,p=null),n(2,g=null),y())});function y(){var m,w;(m=_.Down)==null||m.removeListener(),(w=_.Up)==null||w.removeListener(),_={Down:null,Up:null},l={}}async function h(){if(!a)return;const m=p.duration,{currentStage:w,stages:E,keys:N}=p,M=Math.floor(w/E*100);return i.set(M,{duration:m}),new Promise((R,Z)=>{let H=setTimeout(()=>{R(!1)},m);y(),_.Down=de(fe.down,le=>{if(!a||(l[le.key.toUpperCase()]=!0,g))return;const ae=Object.keys(l);if(ae.length===2){clearTimeout(H),y();const Ce=ae.includes(N[0]),Je=ae.includes(N[1]);if(i.set(M,{duration:0}),Ce&&Je){if(n(1,p.currentStage++,p),p.currentStage>p.stages){R(!0);return}n(1,p.keys=[x("PrimarySet"),x("SecondarySet")],p),R(h())}else{R(!1);return}}}),_.Up=de(fe.up,le=>{delete l[le.key.toUpperCase()]})})}async function b(m,w){if(!a)return;y(),i.set(0,{duration:0});let{difficulty:E,numberOfKeys:N}=w;E=(E||et.FALLBACK_DIFFICULTY)>=100?99:E<=0?5:E,N=N||et.FALLBACK_NUM_KEYS,n(1,p={stages:N,currentStage:1,duration:v(E),keys:[x("PrimarySet"),x("SecondarySet")]}),n(2,g=null),await Le(500);const M=await h();n(2,g=M?"success":"fail"),setTimeout(()=>{if(a)if(M&&m>0)if(m--,m>0)b(m,w);else{K.finish(!0),n(1,p=null);return}else{K.finish(!1),n(1,p=null);return}},500)}function S(){if(!r.active||p)return;const{iterations:m,config:w}=r;b(m,w)}function v(m){const{MIN:w,MAX:E}=et.DURATION;let N=w+(E-w)*((100-m)/100);const M=N*.2,R=Math.random()*M;return N+=R,N}return[a,p,g,s,i,o,c,f]}class vr extends se{constructor(e){super(),re(this,e,wr,br,V,{})}}function lt(t){const e=t.slice(),n=e[1];return e[16]=n.size,e}function Vt(t){let e,n,r,s,i,l,u,o=t[1]&&Yt(t),c=t[1]&&jt(lt(t));return{c(){e=T("div"),n=T("div"),o&&o.c(),r=U(),s=ee("svg"),i=ee("circle"),c&&c.c(),l=ee("circle"),d(n,"class","absolute grid place-items-center z-10"),D(i,"stroke-width",Re*.1+"vw z-0"),d(i,"class","absolute fill-primary-50"),d(i,"cx","50%"),d(i,"cy","50%"),d(i,"r",Re+"vw"),D(l,"transform","rotate(-90deg)"),d(l,"class","absolute radial stroke-primary origin-center target-segment secondary-shadow"),d(l,"stroke-dasharray",t[5]+"vw"),d(l,"stroke-dashoffset",u=t[5]*(-(100-t[3])/100)+"vw"),d(l,"stroke-width",Sr+"vw"),d(l,"fill-opacity","0"),d(l,"cx","50%"),d(l,"cy","50%"),d(l,"r",Re*.95+"vw"),d(s,"style",t[6]),d(s,"version","1.1"),d(s,"class","absolute overflow-visible"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),I(e,n),o&&o.m(n,null),I(e,r),I(e,s),I(s,i),c&&c.m(s,null),I(s,l)},p(f,a){f[1]?o?o.p(f,a):(o=Yt(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),f[1]?c?c.p(lt(f),a):(c=jt(lt(f)),c.c(),c.m(s,l)):c&&(c.d(1),c=null),a&8&&u!==(u=f[5]*(-(100-f[3])/100)+"vw")&&d(l,"stroke-dashoffset",u)},d(f){f&&A(e),o&&o.d(),c&&c.d()}}}function Yt(t){let e=t[1].key,n,r=Gt(t);return{c(){r.c(),n=Y()},m(s,i){r.m(s,i),L(s,n,i)},p(s,i){i&2&&V(e,e=s[1].key)?($(),C(r,1,1,F),B(),r=Gt(s),r.c(),k(r,1),r.m(n.parentNode,n)):r.p(s,i)},d(s){s&&A(n),r.d(s)}}}function Gt(t){let e,n=t[1].key+"",r,s,i,l;return{c(){e=T("p"),r=W(n),d(e,"class",s="text-shadow absolute font-bold text-[2vw] "+(!t[2]&&"animate-scale")+" svelte-zhs4mv")},m(u,o){L(u,e,o),I(e,r),l=!0},p(u,o){(!l||o&2)&&n!==(n=u[1].key+"")&&ue(r,n),(!l||o&4&&s!==(s="text-shadow absolute font-bold text-[2vw] "+(!u[2]&&"animate-scale")+" svelte-zhs4mv"))&&d(e,"class",s)},i(u){l||(u&&z(()=>{l&&(i||(i=P(e,O,{duration:100},!0)),i.run(1))}),l=!0)},o(u){u&&(i||(i=P(e,O,{duration:100},!1)),i.run(0)),l=!1},d(u){u&&A(e),u&&i&&i.end()}}}function jt(t){let e,n,r;return{c(){e=ee("circle"),d(e,"class",n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(t[2]==="success"?"glow-success fill-success":t[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent")),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",r=t[16]/2+"%")},m(s,i){L(s,e,i)},p(s,i){i&4&&n!==(n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(s[2]==="success"?"glow-success fill-success":s[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent"))&&d(e,"class",n),i&2&&r!==(r=s[16]/2+"%")&&d(e,"r",r)},d(s){s&&A(e)}}}function kr(t){let e,n=t[0]&&Vt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?n.p(r,s):(n=Vt(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:F,o:F,d(r){r&&A(e),n&&n.d(r)}}}const Sr=.5,Re=4;function Er(t,e,n){let r,s;G(t,K,v=>n(9,r=v));const i=Ne(0);G(t,i,v=>n(3,s=v));const l=Re*2,u=2*Math.PI*Re,o=`
        width: ${l}vw;
        height: ${l}vw;
    `;let c=!1,f=null,a=null,p,g;K.subscribe(v=>{let m=v.active&&v.type===X.KeySpam&&!f;m?(n(0,c=!0),b()):c&&!m&&(n(0,c=!1),n(1,f=null),n(2,a=null),_())});function _(){p==null||p.removeListener(),p=null,g==null||g.removeListener(),g=null}async function y(){if(!c)return;const v=f.duration;return i.set(100,{duration:v}),new Promise((m,w)=>{let E=setInterval(()=>{c&&(n(1,f.size-=.1,f),f.size<=0&&n(1,f.size=0,f))},1),N=setTimeout(()=>{c&&(clearTimeout(N),clearInterval(E),m(!1))},v),M=!1;p=de(fe.pressed,R=>{if(!c||M)return;M=!0;const Z=R.key.toUpperCase();if(me.PrimarySet.includes(Z)&&Z===f.key){let{size:H}=f;n(1,f.size=H+10,f),f.size>=100&&(n(1,f.size=100,f),clearTimeout(N),clearInterval(E),i.set(s,{duration:0}),m(!0))}}),g=de(fe.up,R=>{c&&(M=!1)})})}async function h(v,m){if(!c)return;_(),i.set(0,{duration:0});let{difficulty:w}=m;w=(w||At.FALLBACK_DIFFICULTY)>=100?99:w<=0?5:w,n(1,f={duration:S(w),key:x("PrimarySet"),size:0}),n(2,a=null),await Le(500);const E=await y();_(),n(2,a=E?"success":"fail"),setTimeout(()=>{if(c)if(E&&v>0)if(v--,v>0)h(v,m);else{K.finish(!0),n(1,f=null);return}else{K.finish(!1),n(1,f=null);return}},500)}function b(){if(!r.active||f)return;const{iterations:v,config:m}=r;h(v,m)}function S(v){const{MIN:m,MAX:w}=At.DURATION;let E=m+(w-m)*((100-v)/100);const N=E*.2,M=Math.random()*N;return E+=M,E}return[c,f,a,s,i,u,o]}class Ir extends se{constructor(e){super(),re(this,e,Er,kr,V,{})}}function Xt(t){let e,n,r=(t[5]<t[6]?t[4]:t[0])+"",s,i,l,u;return{c(){e=T("div"),n=T("p"),s=W(r),d(n,"class",i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(t[1]==="success"?"text-success glow-success":t[1]==="fail"?"text-fail glow-fail":t[3]?"text-accent":"text-primary")),D(e,"left",t[5]+"%"),d(e,"class","grid place-items-center absolute")},m(o,c){L(o,e,c),I(e,n),I(n,s),u=!0},p(o,c){(!u||c&49)&&r!==(r=(o[5]<o[6]?o[4]:o[0])+"")&&ue(s,r),(!u||c&10&&i!==(i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(o[1]==="success"?"text-success glow-success":o[1]==="fail"?"text-fail glow-fail":o[3]?"text-accent":"text-primary")))&&d(n,"class",i),(!u||c&32)&&D(e,"left",o[5]+"%")},i(o){u||(o&&z(()=>{u&&(l||(l=P(e,O,{duration:250},!0)),l.run(1))}),u=!0)},o(o){o&&(l||(l=P(e,O,{duration:250},!1)),l.run(0)),u=!1},d(o){o&&A(e),o&&l&&l.end()}}}function Ar(t){let e,n=t[5]>0&&t[5]<100&&Xt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[5]>0&&r[5]<100?n?(n.p(r,s),s&32&&k(n,1)):(n=Xt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}function Lr(t,e,n){let r,s=F,i=()=>(s(),s=je(o,_=>n(5,r=_)),o);t.$$.on_destroy.push(()=>s());let{key:l=null}=e,{state:u=null}=e,{left:o=null}=e;i();let{active:c=null}=e,f="1",a=null;function p(){clearInterval(a),a=null}const g=50-_e.ZONE_SIZE*1.5;return qe(()=>{n(4,f=x("Numbers")),a=setInterval(()=>{(r>g||u)&&p();let _=x("Numbers");for(;_===f;)_=x("Numbers");n(4,f=_)},150)}),t.$$set=_=>{"key"in _&&n(0,l=_.key),"state"in _&&n(1,u=_.state),"left"in _&&i(n(2,o=_.left)),"active"in _&&n(3,c=_.active)},[l,u,o,c,f,r,g]}class Nr extends se{constructor(e){super(),re(this,e,Lr,Ar,V,{key:0,state:1,left:2,active:3})}}function Ht(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function qt(t){let e,n,r,s,i,l=t[2]&&Wt(t);return{c(){e=T("div"),n=T("div"),r=U(),l&&l.c(),D(n,"width",_e.ZONE_SIZE+"%"),d(n,"class","bg-primary secondary-shadow h-[2.5vw]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center justify-center")},m(u,o){L(u,e,o),I(e,n),I(e,r),l&&l.m(e,null),i=!0},p(u,o){u[2]?l?(l.p(u,o),o&4&&k(l,1)):(l=Wt(u),l.c(),k(l,1),l.m(e,null)):l&&($(),C(l,1,1,()=>{l=null}),B())},i(u){i||(k(l),u&&z(()=>{i&&(s||(s=P(e,O,{},!0)),s.run(1))}),i=!0)},o(u){C(l),u&&(s||(s=P(e,O,{},!1)),s.run(0)),i=!1},d(u){u&&A(e),l&&l.d(),u&&s&&s.end()}}}function Wt(t){let e,n,r=q(t[2].keys),s=[];for(let l=0;l<r.length;l+=1)s[l]=Jt(Ht(t,r,l));const i=l=>C(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Y()},m(l,u){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(l,u);L(l,e,u),n=!0},p(l,u){if(u&5){r=q(l[2].keys);let o;for(o=0;o<r.length;o+=1){const c=Ht(l,r,o);s[o]?(s[o].p(c,u),k(s[o],1)):(s[o]=Jt(c),s[o].c(),k(s[o],1),s[o].m(e.parentNode,e))}for($(),o=r.length;o<s.length;o+=1)i(o);B()}},i(l){if(!n){for(let u=0;u<r.length;u+=1)k(s[u]);n=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)C(s[u]);n=!1},d(l){l&&A(e),Ie(s,l)}}}function Jt(t){let e,n;const r=[t[12],{active:t[0]===t[14]}];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Nr({props:s}),{c(){ie(e.$$.fragment)},m(i,l){J(e,i,l),n=!0},p(i,l){const u=l&5?dn(r,[l&4&&_n(i[12]),l&1&&{active:i[0]===i[14]}]):{};e.$set(u)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Cr(t){let e,n,r=t[1]&&qt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=qt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Tr(t,e,n){let r;G(t,K,y=>n(5,r=y));let s=null,i=!1,l=null,u=null,o;K.subscribe(y=>{let h=y.active&&y.type===X.NumberSlide&&!l;h?(n(1,i=!0),p()):i&&!h&&(n(1,i=!1),n(2,l=null),u=null,c())});function c(){o==null||o.removeListener(),o=null}async function f(){if(i)return n(0,s=null),new Promise((y,h)=>{const{keys:b}=l,{ZONE_SIZE:S}=_e;let v=[];function m(w){v.forEach(E=>E()),v=[],b.forEach((E,N)=>{let{left:M}=E;M.set(Ee(M),{duration:0}),n(2,l.keys[N].state=w?"success":"fail",l)}),y(w)}b.forEach((w,E)=>{let N=l.keys[E];v.push(w.left.subscribe(M=>{M>=50-S/2&&M<=50+S/2?n(0,s=E):M>50+S/2&&N.state!=="success"&&(N.state="fail",n(2,l.keys[E]=N,l),m(!1))}))}),o=de(fe.pressed,w=>{const E=w.key.toUpperCase();if(!me.Numbers.includes(E))return;const N=l.keys[s];N||m(!1),E===N.key?(N.state="success",n(2,l.keys[s]=N,l),l.keys.every(R=>R.state==="success")&&m(!0)):m(!1)})})}async function a(y,h){if(!i)return;c();let{difficulty:b,numberOfKeys:S}=h;b=(b||_e.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,S=S||_e.FALLBACK_NUM_KEYS;const v=g(b),m=_(S,v);n(2,l={duration:v,keys:m}),u=null,n(0,s=null),await Le(500);const w=await f();c(),u=w?"success":"fail",setTimeout(()=>{if(i)if(w&&y>0)if(y--,y>0)a(y,h);else{K.finish(!0),n(2,l=null);return}else{K.finish(!1),n(2,l=null);return}},500)}function p(){if(!r.active||l)return;const{iterations:y,config:h}=r;a(y,h)}function g(y){const{MIN:h,MAX:b}=_e.DURATION;let S=h+(b-h)*((100-y)/100);const v=S*.2,m=Math.random()*v;return S+=m,S}function _(y,h){const b=_e.ZONE_SIZE,S=h*(b/100),v=[];for(let m=0;m<y;m++){const w={key:x("Numbers"),left:Ne(0,{duration:0}),state:null};setTimeout(()=>{u||w.left.set(100,{duration:h})},S*m),v.push(w)}return v}return[s,i,l]}class Mr extends se{constructor(e){super(),re(this,e,Tr,Cr,V,{})}}function Qt(t){let e,n,r,s,i;return{c(){e=T("div"),D(e,"left",t[2]+"%"),D(e,"width",Dr+"vw"),d(e,"class",n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(t[0]==="success"?"bg-success glow-success":t[0]==="fail"?"bg-fail glow-fail":t[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow"))},m(l,u){L(l,e,u),i=!0},p(l,u){(!i||u&4)&&D(e,"left",l[2]+"%"),(!i||u&1&&n!==(n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(l[0]==="success"?"bg-success glow-success":l[0]==="fail"?"bg-fail glow-fail":l[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow")))&&d(e,"class",n)},i(l){i||(l&&z(()=>{i&&(s&&s.end(1),r=zn(e,O,{duration:250}),r.start())}),i=!0)},o(l){r&&r.invalidate(),l&&(s=$n(e,O,{duration:250,delay:250})),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Rr(t){let e,n=t[2]>0&&t[2]<100&&Qt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[2]>0&&r[2]<100?n?(n.p(r,s),s&4&&k(n,1)):(n=Qt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const Dr=.5;function Kr(t,e,n){let r,s=F,i=()=>(s(),s=je(u,o=>n(2,r=o)),u);t.$$.on_destroy.push(()=>s());let{state:l=null}=e,{left:u=null}=e;return i(),t.$$set=o=>{"state"in o&&n(0,l=o.state),"left"in o&&i(n(1,u=o.left))},[l,u,r]}class Ur extends se{constructor(e){super(),re(this,e,Kr,Rr,V,{state:0,left:1})}}function xt(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function en(t){let e,n,r,s,i,l,u,o=t[0]&&tn(t);return{c(){e=T("div"),n=T("div"),r=T("p"),r.textContent=`${me.Primary}`,i=U(),o&&o.c(),d(r,"class","text-shadow absolute font-bold text-[2vw]"),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center")},m(c,f){L(c,e,f),I(e,n),I(n,r),I(e,i),o&&o.m(e,null),u=!0},p(c,f){c[0]?o?(o.p(c,f),f&1&&k(o,1)):(o=tn(c),o.c(),k(o,1),o.m(e,null)):o&&($(),C(o,1,1,()=>{o=null}),B())},i(c){u||(c&&z(()=>{u&&(s||(s=P(r,O,{duration:100},!0)),s.run(1))}),k(o),c&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(c){c&&(s||(s=P(r,O,{duration:100},!1)),s.run(0)),C(o),c&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(c){c&&A(e),c&&s&&s.end(),o&&o.d(),c&&l&&l.end()}}}function tn(t){let e,n,r,s,i=q(t[0].lines),l=[];for(let o=0;o<i.length;o+=1)l[o]=nn(xt(t,i,o));const u=o=>C(l[o],1,1,()=>{l[o]=null});return{c(){e=T("div"),n=U();for(let o=0;o<l.length;o+=1)l[o].c();r=Y(),D(e,"width",t[0].zone+"%"),D(e,"left",ye.ZONE_FROM_RIGHT+"%"),d(e,"class","bg-primary secondary-shadow h-[1vw] z-0 absolute -translate-x-full")},m(o,c){L(o,e,c),L(o,n,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,c);L(o,r,c),s=!0},p(o,c){if((!s||c&1)&&D(e,"width",o[0].zone+"%"),c&1){i=q(o[0].lines);let f;for(f=0;f<i.length;f+=1){const a=xt(o,i,f);l[f]?(l[f].p(a,c),k(l[f],1)):(l[f]=nn(a),l[f].c(),k(l[f],1),l[f].m(r.parentNode,r))}for($(),f=i.length;f<l.length;f+=1)u(f);B()}},i(o){if(!s){for(let c=0;c<i.length;c+=1)k(l[c]);s=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)C(l[c]);s=!1},d(o){o&&(A(e),A(n),A(r)),Ie(l,o)}}}function nn(t){let e,n;const r=[t[12]];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Ur({props:s}),{c(){ie(e.$$.fragment)},m(i,l){J(e,i,l),n=!0},p(i,l){const u=l&1?dn(r,[_n(i[12])]):{};e.$set(u)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){Q(e,i)}}}function Or(t){let e,n,r=t[1]&&en(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=en(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Pr(t,e,n){let r;G(t,K,y=>n(4,r=y));let s=null,i=!1,l=null,u;K.subscribe(y=>{let h=y.active&&y.type===X.RapidLines&&!s;h?(n(1,i=!0),a()):i&&!h&&(n(1,i=!1),n(0,s=null),l=null,o())});function o(){u==null||u.removeListener(),u=null}async function c(){if(i)return new Promise((y,h)=>{const{lines:b,zone:S}=s,{ZONE_FROM_RIGHT:v}=ye,m={max:v,min:v-S};let w=[];function E(N){w.forEach(M=>M()),w=[],console.log("clearing",N),b.forEach((M,R)=>{let{left:Z}=M;Z.set(Ee(Z),{duration:0}),n(0,s.lines[R].state=N?"success":"fail",s)}),y(N)}b.forEach((N,M)=>{let R=s.lines[M];w.push(N.left.subscribe(Z=>{Z>m.min&&Z<m.max&&R.state!=="success"?R.state="active":(Z==100||Z>m.max)&&R.state!=="success"&&(console.log("fail",M,s.lines[M],Z,R.state,s.lines[M]),R.state="fail",E(!1)),n(0,s.lines[M]=R,s)}))}),u=de(fe.pressed,N=>{if(N.key.toUpperCase()!==me.Primary)return;let R=!1,Z=0,H=0;if(b.forEach((le,ae)=>{let{left:Ce,state:Je}=le;if(Je==="active"){const Pe=Ee(Ce);Pe>m.min&&Pe<m.max&&(R=!0,Pe>Z&&(H=ae,Z=Pe))}}),!R)E(!1);else{const le=s.lines[H];le.state="success",n(0,s.lines[H]=le,s),console.log(H,s.lines[H]),s.lines.every(Ce=>Ce.state==="success")&&E(!0)}})})}async function f(y,h){if(!i)return;o();let{difficulty:b,numberOfKeys:S}=h;b=(b||ye.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,S=S||ye.FALLBACK_NUM_LINES;const v=g(b),m=_(S,v),w=p(b);n(0,s={duration:v,lines:m,zone:w}),l=null,await Le(500);const E=await c();o(),l=E?"success":"fail",setTimeout(()=>{if(i)if(E&&y>0)if(y--,y>0)f(y,h);else{K.finish(!0),n(0,s=null);return}else{K.finish(!1),n(0,s=null);return}},500)}function a(){if(!r.active||s)return;const{iterations:y,config:h}=r;f(y,h)}function p(y){const{MIN:h,MAX:b}=ye.ZONE;let S=h+(b-h)*((100-y)/100);const v=S*.2,m=Math.random()*v;return S+=m,S}function g(y){const{MIN:h,MAX:b}=ye.DURATION;let S=h+(b-h)*((100-y)/100);const v=S*.2,m=Math.random()*v;return S+=m,S}function _(y,h){const b=[];for(let S=0;S<y;S++){const v=Math.random()*100,w=h*(.2+Math.random()*.6)+(v/100+S*10),E={left:Ne(0,{duration:0}),state:null};setTimeout(()=>{l||E.left.set(100,{duration:h})},w*S),b.push(E)}return b}return[s,i]}class Fr extends se{constructor(e){super(),re(this,e,Pr,Or,V,{})}}function zr(t){let e,n,r,s,i,l,u,o,c,f,a,p;return e=new pr({}),r=new hr({}),i=new vr({}),u=new Ir({}),c=new Mr({}),a=new Fr({}),{c(){ie(e.$$.fragment),n=U(),ie(r.$$.fragment),s=U(),ie(i.$$.fragment),l=U(),ie(u.$$.fragment),o=U(),ie(c.$$.fragment),f=U(),ie(a.$$.fragment)},m(g,_){J(e,g,_),L(g,n,_),J(r,g,_),L(g,s,_),J(i,g,_),L(g,l,_),J(u,g,_),L(g,o,_),J(c,g,_),L(g,f,_),J(a,g,_),p=!0},i(g){p||(k(e.$$.fragment,g),k(r.$$.fragment,g),k(i.$$.fragment,g),k(u.$$.fragment,g),k(c.$$.fragment,g),k(a.$$.fragment,g),p=!0)},o(g){C(e.$$.fragment,g),C(r.$$.fragment,g),C(i.$$.fragment,g),C(u.$$.fragment,g),C(c.$$.fragment,g),C(a.$$.fragment,g),p=!1},d(g){g&&(A(n),A(s),A(l),A(o),A(f)),Q(e,g),Q(r,g),Q(i,g),Q(u,g),Q(c,g),Q(a,g)}}}function rn(t){let e,n;return e=new fr({}),{c(){ie(e.$$.fragment)},m(r,s){J(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){Q(e,r)}}}function $r(t){let e,n,r,s;e=new xn({props:{$$slots:{default:[zr]},$$scope:{ctx:t}}});let i=t[0]&&rn();return{c(){ie(e.$$.fragment),n=U(),i&&i.c(),r=Y()},m(l,u){J(e,l,u),L(l,n,u),i&&i.m(l,u),L(l,r,u),s=!0},p(l,[u]){const o={};u&2&&(o.$$scope={dirty:u,ctx:l}),e.$set(o),l[0]?i?u&1&&k(i,1):(i=rn(),i.c(),k(i,1),i.m(r.parentNode,r)):i&&($(),C(i,1,1,()=>{i=null}),B())},i(l){s||(k(e.$$.fragment,l),k(i),s=!0)},o(l){C(e.$$.fragment,l),C(i),s=!1},d(l){l&&(A(n),A(r)),Q(e,l),i&&i.d(l)}}}function Br(t,e,n){let r;return G(t,pn,s=>n(0,r=s)),_t.set({fallbackResourceName:"debug",allowEscapeKey:!1}),Wn(),[r]}class Zr extends se{constructor(e){super(),re(this,e,Br,$r,V,{})}}new Zr({target:document.getElementById("app")});
